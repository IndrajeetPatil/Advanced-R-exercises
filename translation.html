<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 21 Translation | Advanced R Exercises</title>
<meta name="author" content="Indrajeet Patil">
<meta name="description" content="Needed libraries: library(rlang) library(purrr)  21.1 HTML (Exercises 21.2.6) Q1. The escaping rules for &lt;script&gt; tags are different because they contain JavaScript, not HTML. Instead of escaping...">
<meta name="generator" content="bookdown 0.39 with bs4_book()">
<meta property="og:title" content="Chapter 21 Translation | Advanced R Exercises">
<meta property="og:type" content="book">
<meta property="og:url" content="https://bookdown.org/IndrajeetPatil/Advanced-R-exercises/translation.html">
<meta property="og:image" content="https://bookdown.org/IndrajeetPatil/Advanced-R-exercises/cover.png">
<meta property="og:description" content="Needed libraries: library(rlang) library(purrr)  21.1 HTML (Exercises 21.2.6) Q1. The escaping rules for &lt;script&gt; tags are different because they contain JavaScript, not HTML. Instead of escaping...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 21 Translation | Advanced R Exercises">
<meta name="twitter:description" content="Needed libraries: library(rlang) library(purrr)  21.1 HTML (Exercises 21.2.6) Q1. The escaping rules for &lt;script&gt; tags are different because they contain JavaScript, not HTML. Instead of escaping...">
<meta name="twitter:image" content="https://bookdown.org/IndrajeetPatil/Advanced-R-exercises/cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="libs/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="libs/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.7.0/transition.js"></script><script src="libs/bs3compat-0.7.0/tabs.js"></script><script src="libs/bs3compat-0.7.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Advanced R Exercises</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">About</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="names-and-values.html"><span class="header-section-number">2</span> Names and values</a></li>
<li><a class="" href="vectors.html"><span class="header-section-number">3</span> Vectors</a></li>
<li><a class="" href="subsetting.html"><span class="header-section-number">4</span> Subsetting</a></li>
<li><a class="" href="control-flow.html"><span class="header-section-number">5</span> Control flow</a></li>
<li><a class="" href="functions.html"><span class="header-section-number">6</span> Functions</a></li>
<li><a class="" href="environments.html"><span class="header-section-number">7</span> Environments</a></li>
<li><a class="" href="conditions.html"><span class="header-section-number">8</span> Conditions</a></li>
<li><a class="" href="functionals.html"><span class="header-section-number">9</span> Functionals</a></li>
<li><a class="" href="function-factories.html"><span class="header-section-number">10</span> Function factories</a></li>
<li><a class="" href="function-operators.html"><span class="header-section-number">11</span> Function operators</a></li>
<li><a class="" href="base-types.html"><span class="header-section-number">12</span> Base Types</a></li>
<li><a class="" href="s3.html"><span class="header-section-number">13</span> S3</a></li>
<li><a class="" href="r6.html"><span class="header-section-number">14</span> R6</a></li>
<li><a class="" href="s4.html"><span class="header-section-number">15</span> S4</a></li>
<li><a class="" href="trade-offs.html"><span class="header-section-number">16</span> Trade-offs</a></li>
<li><a class="" href="big-picture.html"><span class="header-section-number">17</span> Big Picture</a></li>
<li><a class="" href="expressions.html"><span class="header-section-number">18</span> Expressions</a></li>
<li><a class="" href="quasiquotation.html"><span class="header-section-number">19</span> Quasiquotation</a></li>
<li><a class="" href="evaluation.html"><span class="header-section-number">20</span> Evaluation</a></li>
<li><a class="active" href="translation.html"><span class="header-section-number">21</span> Translation</a></li>
<li><a class="" href="debugging.html"><span class="header-section-number">22</span> Debugging</a></li>
<li><a class="" href="measuring-performance.html"><span class="header-section-number">23</span> Measuring performance</a></li>
<li><a class="" href="improving-performance.html"><span class="header-section-number">24</span> Improving performance</a></li>
<li><a class="" href="rewriting-r-code-in-c.html"><span class="header-section-number">25</span> Rewriting R code in C++</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/IndrajeetPatil/Advanced-R-exercises">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="translation" class="section level1" number="21">
<h1>
<span class="header-section-number">21</span> Translation<a class="anchor" aria-label="anchor" href="#translation"><i class="fas fa-link"></i></a>
</h1>
<p>Needed libraries:</p>
<div class="sourceCode" id="cb619"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rlang.r-lib.org">rlang</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/">purrr</a></span><span class="op">)</span></span></code></pre></div>
<div id="html-exercises-21.2.6" class="section level2" number="21.1">
<h2>
<span class="header-section-number">21.1</span> HTML (Exercises 21.2.6)<a class="anchor" aria-label="anchor" href="#html-exercises-21.2.6"><i class="fas fa-link"></i></a>
</h2>
<hr>
<p><strong>Q1.</strong> The escaping rules for <code>&lt;script&gt;</code> tags are different because they contain JavaScript, not HTML. Instead of escaping angle brackets or ampersands, you need to escape <code>&lt;/script&gt;</code> so that the tag isn’t closed too early. For example, <code>script("'&lt;/script&gt;'")</code>, shouldn’t generate this:</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb620-1"><a href="translation.html#cb620-1" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="dt">&gt;</span><span class="st">'&lt;/script&gt;'</span><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
<p>But</p>
<div class="sourceCode" id="cb621"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb621-1"><a href="translation.html#cb621-1" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="dt">&gt;</span><span class="st">'&lt;</span><span class="sc">\/</span><span class="st">script&gt;'</span><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Adapt the <code>escape()</code> to follow these rules when a new argument <code>script</code> is set to <code>TRUE</code>.</p>
<p><strong>A1.</strong> Let’s first start with the boilerplate code included in the book:</p>
<div class="sourceCode" id="cb622"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">escape</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/UseMethod.html">UseMethod</a></span><span class="op">(</span><span class="st">"escape"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">escape.character</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">script</span> <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">script</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"&lt;/script&gt;"</span>, <span class="st">"&lt;\\/script&gt;"</span>, <span class="va">x</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"&amp;"</span>, <span class="st">"&amp;amp;"</span>, <span class="va">x</span><span class="op">)</span></span>
<span>    <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"&lt;"</span>, <span class="st">"&amp;lt;"</span>, <span class="va">x</span><span class="op">)</span></span>
<span>    <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"&gt;"</span>, <span class="st">"&amp;gt;"</span>, <span class="va">x</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="fu">html</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">escape.advr_html</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span> <span class="va">x</span></span></code></pre></div>
<p>We will also need to tweak the boilerplate to pass this additional parameter to <code>escape()</code>:</p>
<div class="sourceCode" id="cb623"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">html</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/structure.html">structure</a></span><span class="op">(</span><span class="va">x</span>, class <span class="op">=</span> <span class="st">"advr_html"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">print.advr_html</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"&lt;HTML&gt; "</span>, <span class="va">x</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strwrap.html">strwrap</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span>, <span class="st">"\n"</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">dots_partition</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dots</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rlang.r-lib.org/reference/list2.html">list2</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">dots</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">is_named</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">dots</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">is_named</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">dots</span><span class="op">)</span> <span class="op">!=</span> <span class="st">""</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>    named <span class="op">=</span> <span class="va">dots</span><span class="op">[</span><span class="va">is_named</span><span class="op">]</span>,</span>
<span>    unnamed <span class="op">=</span> <span class="va">dots</span><span class="op">[</span><span class="op">!</span><span class="va">is_named</span><span class="op">]</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">tag</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">tag</span>, <span class="va">script</span> <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/force.html">force</a></span><span class="op">(</span><span class="va">script</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rlang.r-lib.org/reference/new_function.html">new_function</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rlang.r-lib.org/reference/defusing-advanced.html">exprs</a></span><span class="op">(</span>... <span class="op">=</span> <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rlang.r-lib.org/reference/expr.html">expr</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="va">dots</span> <span class="op">&lt;-</span> <span class="fu">dots_partition</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span>      <span class="va">attribs</span> <span class="op">&lt;-</span> <span class="fu">html_attributes</span><span class="op">(</span><span class="va">dots</span><span class="op">$</span><span class="va">named</span><span class="op">)</span></span>
<span>      <span class="va">children</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map_chr</a></span><span class="op">(</span>.x <span class="op">=</span> <span class="va">dots</span><span class="op">$</span><span class="va">unnamed</span>, .f <span class="op">=</span> <span class="op">~</span> <span class="fu">escape</span><span class="op">(</span><span class="va">.x</span>, <span class="op">!</span><span class="op">!</span><span class="va">script</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>      <span class="fu">html</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span></span>
<span>        <span class="op">!</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"&lt;"</span>, <span class="va">tag</span><span class="op">)</span>, <span class="va">attribs</span>, <span class="st">"&gt;"</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">children</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span>,</span>
<span>        <span class="op">!</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"&lt;/"</span>, <span class="va">tag</span>, <span class="st">"&gt;"</span><span class="op">)</span></span>
<span>      <span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rlang.r-lib.org/reference/stack.html">caller_env</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">void_tag</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">tag</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rlang.r-lib.org/reference/new_function.html">new_function</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rlang.r-lib.org/reference/defusing-advanced.html">exprs</a></span><span class="op">(</span>... <span class="op">=</span> <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rlang.r-lib.org/reference/expr.html">expr</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="va">dots</span> <span class="op">&lt;-</span> <span class="fu">dots_partition</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span>      <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">dots</span><span class="op">$</span><span class="va">unnamed</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="fu"><a href="https://rlang.r-lib.org/reference/abort.html">abort</a></span><span class="op">(</span><span class="op">!</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"&lt;"</span>, <span class="va">tag</span>, <span class="st">"&gt; must not have unnamed arguments"</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="op">}</span></span>
<span>      <span class="va">attribs</span> <span class="op">&lt;-</span> <span class="fu">html_attributes</span><span class="op">(</span><span class="va">dots</span><span class="op">$</span><span class="va">named</span><span class="op">)</span></span>
<span></span>
<span>      <span class="fu">html</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="op">!</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"&lt;"</span>, <span class="va">tag</span><span class="op">)</span>, <span class="va">attribs</span>, <span class="st">" /&gt;"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rlang.r-lib.org/reference/stack.html">caller_env</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu">tag</span><span class="op">(</span><span class="st">"p"</span><span class="op">)</span></span>
<span><span class="va">script</span> <span class="op">&lt;-</span> <span class="fu">tag</span><span class="op">(</span><span class="st">"script"</span>, script <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb624"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">script</span><span class="op">(</span><span class="st">"'&lt;/script&gt;'"</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;HTML&gt; &lt;script&gt;'&lt;\/script&gt;'&lt;/script&gt;</span></span></code></pre></div>
<hr>
<p><strong>Q2.</strong> The use of <code>...</code> for all functions has some big downsides. There’s no input validation and there will be little information in the documentation or autocomplete about how they are used in the function. Create a new function that, when given a named list of tags and their attribute names (like below), creates tag functions with named arguments.</p>
<div class="sourceCode" id="cb625"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>  a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"href"</span><span class="op">)</span>,</span>
<span>  img <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"src"</span>, <span class="st">"width"</span>, <span class="st">"height"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>All tags should get <code>class</code> and <code>id</code> attributes.</p>
<hr>
<p><strong>Q3.</strong> Reason about the following code that calls <code>with_html()</code> referencing objects from the environment. Will it work or fail? Why? Run the code to verify your predictions.</p>
<div class="sourceCode" id="cb626"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">greeting</span> <span class="op">&lt;-</span> <span class="st">"Hello!"</span></span>
<span><span class="fu">with_html</span><span class="op">(</span><span class="fu">p</span><span class="op">(</span><span class="va">greeting</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="st">"p"</span></span>
<span><span class="va">address</span> <span class="op">&lt;-</span> <span class="st">"123 anywhere street"</span></span>
<span><span class="fu">with_html</span><span class="op">(</span><span class="fu">p</span><span class="op">(</span><span class="va">address</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><strong>A3.</strong> To work with this, we first need to copy-paste relevant code from the book:</p>
<div class="sourceCode" id="cb627"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tags</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"a"</span>, <span class="st">"abbr"</span>, <span class="st">"address"</span>, <span class="st">"article"</span>, <span class="st">"aside"</span>, <span class="st">"audio"</span>,</span>
<span>  <span class="st">"b"</span>, <span class="st">"bdi"</span>, <span class="st">"bdo"</span>, <span class="st">"blockquote"</span>, <span class="st">"body"</span>, <span class="st">"button"</span>, <span class="st">"canvas"</span>,</span>
<span>  <span class="st">"caption"</span>, <span class="st">"cite"</span>, <span class="st">"code"</span>, <span class="st">"colgroup"</span>, <span class="st">"data"</span>, <span class="st">"datalist"</span>,</span>
<span>  <span class="st">"dd"</span>, <span class="st">"del"</span>, <span class="st">"details"</span>, <span class="st">"dfn"</span>, <span class="st">"div"</span>, <span class="st">"dl"</span>, <span class="st">"dt"</span>, <span class="st">"em"</span>,</span>
<span>  <span class="st">"eventsource"</span>, <span class="st">"fieldset"</span>, <span class="st">"figcaption"</span>, <span class="st">"figure"</span>, <span class="st">"footer"</span>,</span>
<span>  <span class="st">"form"</span>, <span class="st">"h1"</span>, <span class="st">"h2"</span>, <span class="st">"h3"</span>, <span class="st">"h4"</span>, <span class="st">"h5"</span>, <span class="st">"h6"</span>, <span class="st">"head"</span>, <span class="st">"header"</span>,</span>
<span>  <span class="st">"hgroup"</span>, <span class="st">"html"</span>, <span class="st">"i"</span>, <span class="st">"iframe"</span>, <span class="st">"ins"</span>, <span class="st">"kbd"</span>, <span class="st">"label"</span>,</span>
<span>  <span class="st">"legend"</span>, <span class="st">"li"</span>, <span class="st">"mark"</span>, <span class="st">"map"</span>, <span class="st">"menu"</span>, <span class="st">"meter"</span>, <span class="st">"nav"</span>,</span>
<span>  <span class="st">"noscript"</span>, <span class="st">"object"</span>, <span class="st">"ol"</span>, <span class="st">"optgroup"</span>, <span class="st">"option"</span>, <span class="st">"output"</span>,</span>
<span>  <span class="st">"p"</span>, <span class="st">"pre"</span>, <span class="st">"progress"</span>, <span class="st">"q"</span>, <span class="st">"ruby"</span>, <span class="st">"rp"</span>, <span class="st">"rt"</span>, <span class="st">"s"</span>, <span class="st">"samp"</span>,</span>
<span>  <span class="st">"script"</span>, <span class="st">"section"</span>, <span class="st">"select"</span>, <span class="st">"small"</span>, <span class="st">"span"</span>, <span class="st">"strong"</span>,</span>
<span>  <span class="st">"style"</span>, <span class="st">"sub"</span>, <span class="st">"summary"</span>, <span class="st">"sup"</span>, <span class="st">"table"</span>, <span class="st">"tbody"</span>, <span class="st">"td"</span>,</span>
<span>  <span class="st">"textarea"</span>, <span class="st">"tfoot"</span>, <span class="st">"th"</span>, <span class="st">"thead"</span>, <span class="st">"time"</span>, <span class="st">"title"</span>, <span class="st">"tr"</span>,</span>
<span>  <span class="st">"u"</span>, <span class="st">"ul"</span>, <span class="st">"var"</span>, <span class="st">"video"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">void_tags</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"area"</span>, <span class="st">"base"</span>, <span class="st">"br"</span>, <span class="st">"col"</span>, <span class="st">"command"</span>, <span class="st">"embed"</span>,</span>
<span>  <span class="st">"hr"</span>, <span class="st">"img"</span>, <span class="st">"input"</span>, <span class="st">"keygen"</span>, <span class="st">"link"</span>, <span class="st">"meta"</span>, <span class="st">"param"</span>,</span>
<span>  <span class="st">"source"</span>, <span class="st">"track"</span>, <span class="st">"wbr"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">html_tags</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>  <span class="va">tags</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html">set_names</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="va">tag</span><span class="op">)</span>,</span>
<span>  <span class="va">void_tags</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html">set_names</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="va">void_tag</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">with_html</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">code</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">code</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rlang.r-lib.org/reference/enquo.html">enquo</a></span><span class="op">(</span><span class="va">code</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rlang.r-lib.org/reference/eval_tidy.html">eval_tidy</a></span><span class="op">(</span><span class="va">code</span>, <span class="va">html_tags</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Note that <code>with_html()</code> uses <code><a href="https://rlang.r-lib.org/reference/eval_tidy.html">eval_tidy()</a></code>, and therefore <code>code</code> argument is evaluated first in the <code>html_tags</code> named list, which acts as a data mask, and if no object is found in the data mask, searches in the caller environment.</p>
<p>For this reason, the first example code will work:</p>
<div class="sourceCode" id="cb628"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">greeting</span> <span class="op">&lt;-</span> <span class="st">"Hello!"</span></span>
<span><span class="fu">with_html</span><span class="op">(</span><span class="fu">p</span><span class="op">(</span><span class="va">greeting</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;HTML&gt; &lt;p&gt;Hello!&lt;/p&gt;</span></span></code></pre></div>
<p>The following code, however, is not going to work because there is already <code>address</code> element in the data mask, and so <code>p()</code> will take a function <code>address()</code> as an input, and <code>escape()</code> doesn’t know how to deal with objects of <code>function</code> type:</p>
<div class="sourceCode" id="cb629"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="st">"address"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">html_tags</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="st">"p"</span></span>
<span><span class="va">address</span> <span class="op">&lt;-</span> <span class="st">"123 anywhere street"</span></span>
<span><span class="fu">with_html</span><span class="op">(</span><span class="fu">p</span><span class="op">(</span><span class="va">address</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `map_chr()`:</span></span>
<span><span class="co">#&gt; ℹ In index: 1.</span></span>
<span><span class="co">#&gt; Caused by error in `UseMethod()`:</span></span>
<span><span class="co">#&gt; ! no applicable method for 'escape' applied to an object of class "function"</span></span></code></pre></div>
<hr>
<p><strong>Q4.</strong> Currently the HTML doesn’t look terribly pretty, and it’s hard to see the structure. How could you adapt <code>tag()</code> to do indenting and formatting? (You may need to do some research into block and inline tags.)</p>
<p><strong>A4.</strong> Let’s first have a look at what it currently looks like:</p>
<div class="sourceCode" id="cb630"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">with_html</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/body.html">body</a></span><span class="op">(</span></span>
<span>    <span class="fu">h1</span><span class="op">(</span><span class="st">"A heading"</span>, id <span class="op">=</span> <span class="st">"first"</span><span class="op">)</span>,</span>
<span>    <span class="fu">p</span><span class="op">(</span><span class="st">"Some text &amp;"</span>, <span class="fu">b</span><span class="op">(</span><span class="st">"some bold text."</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">img</span><span class="op">(</span>src <span class="op">=</span> <span class="st">"myimg.png"</span>, width <span class="op">=</span> <span class="fl">100</span>, height <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;HTML&gt; &lt;body&gt;&lt;h1 id='first'&gt;A heading&lt;/h1&gt;&lt;p&gt;Some</span></span>
<span><span class="co">#&gt; text &amp;amp;&lt;b&gt;some bold text.&lt;/b&gt;&lt;/p&gt;&lt;img</span></span>
<span><span class="co">#&gt; src='myimg.png' width='100' height='100' /&gt;&lt;/body&gt;</span></span></code></pre></div>
<p>We can improve this to follow the <a href="https://google.github.io/styleguide/htmlcssguide.html#HTML_Formatting_Rules">Google HTML/CSS Style Guide</a>.</p>
<p>For this, we need to create a new function to indent the code conditionally:</p>
<div class="sourceCode" id="cb631"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">print.advr_html</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"&lt;HTML&gt;"</span>, <span class="va">x</span>, sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">indent</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"  "</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"\n"</span>, <span class="st">"\n  "</span>, <span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">format_code</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">children</span>, <span class="va">indent</span> <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">indent</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"\n"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">indent</span><span class="op">(</span><span class="va">children</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">children</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>We can then update the <code><a href="https://rdrr.io/r/base/body.html">body()</a></code> function to use this new helper:</p>
<div class="sourceCode" id="cb632"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">html_tags</span><span class="op">$</span><span class="va">body</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dots</span> <span class="op">&lt;-</span> <span class="fu">dots_partition</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span>  <span class="va">attribs</span> <span class="op">&lt;-</span> <span class="fu">html_attributes</span><span class="op">(</span><span class="va">dots</span><span class="op">$</span><span class="va">named</span><span class="op">)</span></span>
<span>  <span class="va">children</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map_chr</a></span><span class="op">(</span><span class="va">dots</span><span class="op">$</span><span class="va">unnamed</span>, <span class="va">escape</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu">html</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span></span>
<span>    <span class="st">"&lt;body"</span>, <span class="va">attribs</span>, <span class="st">"&gt;"</span>,</span>
<span>    <span class="fu">format_code</span><span class="op">(</span><span class="va">children</span>, indent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="st">"&lt;/body&gt;"</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The new formatting looks much better:</p>
<div class="sourceCode" id="cb633"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">with_html</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/body.html">body</a></span><span class="op">(</span></span>
<span>    <span class="fu">h1</span><span class="op">(</span><span class="st">"A heading"</span>, id <span class="op">=</span> <span class="st">"first"</span><span class="op">)</span>,</span>
<span>    <span class="fu">p</span><span class="op">(</span><span class="st">"Some text &amp;"</span>, <span class="fu">b</span><span class="op">(</span><span class="st">"some bold text."</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">img</span><span class="op">(</span>src <span class="op">=</span> <span class="st">"myimg.png"</span>, width <span class="op">=</span> <span class="fl">100</span>, height <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;HTML&gt;</span></span>
<span><span class="co">#&gt; &lt;body&gt;</span></span>
<span><span class="co">#&gt;   &lt;h1 id='first'&gt;A heading&lt;/h1&gt;</span></span>
<span><span class="co">#&gt;   &lt;p&gt;Some text &amp;amp;&lt;b&gt;some bold text.&lt;/b&gt;&lt;/p&gt;</span></span>
<span><span class="co">#&gt;   &lt;img src='myimg.png' width='100' height='100' /&gt;</span></span>
<span><span class="co">#&gt; &lt;/body&gt;</span></span></code></pre></div>
<hr>
</div>
<div id="latex-exercises-21.3.8" class="section level2" number="21.2">
<h2>
<span class="header-section-number">21.2</span> LaTeX (Exercises 21.3.8)<a class="anchor" aria-label="anchor" href="#latex-exercises-21.3.8"><i class="fas fa-link"></i></a>
</h2>
<p>I didn’t manage to solve these exercises, and so I’d recommend checking out the solutions in the <a href="https://advanced-r-solutions.rbind.io/translating-r-code.html#latex">official solutions manual</a>.</p>
<hr>
<p><strong>Q1.</strong> Add escaping. The special symbols that should be escaped by adding a backslash in front of them are <code>\</code>, <code>$</code>, and <code>%</code>. Just as with HTML, you’ll need to make sure you don’t end up double-escaping. So you’ll need to create a small S3 class and then use that in function operators. That will also allow you to embed arbitrary LaTeX if needed.</p>
<hr>
<p><strong>Q2.</strong> Complete the DSL to support all the functions that <code>plotmath</code> supports.</p>
<hr>
</div>
<div id="session-information-16" class="section level2" number="21.3">
<h2>
<span class="header-section-number">21.3</span> Session information<a class="anchor" aria-label="anchor" href="#session-information-16"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb634"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sessioninfo</span><span class="fu">::</span><span class="fu"><a href="https://r-lib.github.io/sessioninfo/reference/session_info.html">session_info</a></span><span class="op">(</span>include_base <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; ─ Session info ───────────────────────────────────────────</span></span>
<span><span class="co">#&gt;  setting  value</span></span>
<span><span class="co">#&gt;  version  R version 4.4.0 (2024-04-24)</span></span>
<span><span class="co">#&gt;  os       Ubuntu 22.04.4 LTS</span></span>
<span><span class="co">#&gt;  system   x86_64, linux-gnu</span></span>
<span><span class="co">#&gt;  ui       X11</span></span>
<span><span class="co">#&gt;  language (EN)</span></span>
<span><span class="co">#&gt;  collate  C.UTF-8</span></span>
<span><span class="co">#&gt;  ctype    C.UTF-8</span></span>
<span><span class="co">#&gt;  tz       UTC</span></span>
<span><span class="co">#&gt;  date     2024-04-28</span></span>
<span><span class="co">#&gt;  pandoc   3.1.13 @ /opt/hostedtoolcache/pandoc/3.1.13/x64/ (via rmarkdown)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ─ Packages ───────────────────────────────────────────────</span></span>
<span><span class="co">#&gt;  package     * version date (UTC) lib source</span></span>
<span><span class="co">#&gt;  base        * 4.4.0   2024-04-24 [3] local</span></span>
<span><span class="co">#&gt;  bookdown      0.39    2024-04-15 [1] RSPM</span></span>
<span><span class="co">#&gt;  bslib         0.7.0   2024-03-29 [1] RSPM</span></span>
<span><span class="co">#&gt;  cachem        1.0.8   2023-05-01 [1] RSPM</span></span>
<span><span class="co">#&gt;  cli           3.6.2   2023-12-11 [1] RSPM</span></span>
<span><span class="co">#&gt;  compiler      4.4.0   2024-04-24 [3] local</span></span>
<span><span class="co">#&gt;  datasets    * 4.4.0   2024-04-24 [3] local</span></span>
<span><span class="co">#&gt;  digest        0.6.35  2024-03-11 [1] RSPM</span></span>
<span><span class="co">#&gt;  downlit       0.4.3   2023-06-29 [1] RSPM</span></span>
<span><span class="co">#&gt;  evaluate      0.23    2023-11-01 [1] RSPM</span></span>
<span><span class="co">#&gt;  fansi         1.0.6   2023-12-08 [1] RSPM</span></span>
<span><span class="co">#&gt;  fastmap       1.1.1   2023-02-24 [1] RSPM</span></span>
<span><span class="co">#&gt;  fs            1.6.4   2024-04-25 [1] RSPM</span></span>
<span><span class="co">#&gt;  glue          1.7.0   2024-01-09 [1] RSPM</span></span>
<span><span class="co">#&gt;  graphics    * 4.4.0   2024-04-24 [3] local</span></span>
<span><span class="co">#&gt;  grDevices   * 4.4.0   2024-04-24 [3] local</span></span>
<span><span class="co">#&gt;  htmltools     0.5.8.1 2024-04-04 [1] RSPM</span></span>
<span><span class="co">#&gt;  jquerylib     0.1.4   2021-04-26 [1] RSPM</span></span>
<span><span class="co">#&gt;  jsonlite      1.8.8   2023-12-04 [1] RSPM</span></span>
<span><span class="co">#&gt;  knitr         1.46    2024-04-06 [1] RSPM</span></span>
<span><span class="co">#&gt;  lifecycle     1.0.4   2023-11-07 [1] RSPM</span></span>
<span><span class="co">#&gt;  magrittr    * 2.0.3   2022-03-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  memoise       2.0.1   2021-11-26 [1] RSPM</span></span>
<span><span class="co">#&gt;  methods     * 4.4.0   2024-04-24 [3] local</span></span>
<span><span class="co">#&gt;  pillar        1.9.0   2023-03-22 [1] RSPM</span></span>
<span><span class="co">#&gt;  purrr       * 1.0.2   2023-08-10 [1] RSPM</span></span>
<span><span class="co">#&gt;  R6            2.5.1   2021-08-19 [1] RSPM</span></span>
<span><span class="co">#&gt;  rlang       * 1.1.3   2024-01-10 [1] RSPM</span></span>
<span><span class="co">#&gt;  rmarkdown     2.26    2024-03-05 [1] RSPM</span></span>
<span><span class="co">#&gt;  sass          0.4.9   2024-03-15 [1] RSPM</span></span>
<span><span class="co">#&gt;  sessioninfo   1.2.2   2021-12-06 [1] RSPM</span></span>
<span><span class="co">#&gt;  stats       * 4.4.0   2024-04-24 [3] local</span></span>
<span><span class="co">#&gt;  tools         4.4.0   2024-04-24 [3] local</span></span>
<span><span class="co">#&gt;  utf8          1.2.4   2023-10-22 [1] RSPM</span></span>
<span><span class="co">#&gt;  utils       * 4.4.0   2024-04-24 [3] local</span></span>
<span><span class="co">#&gt;  vctrs         0.6.5   2023-12-01 [1] RSPM</span></span>
<span><span class="co">#&gt;  withr         3.0.0   2024-01-16 [1] RSPM</span></span>
<span><span class="co">#&gt;  xfun          0.43    2024-03-25 [1] RSPM</span></span>
<span><span class="co">#&gt;  xml2          1.3.6   2023-12-04 [1] RSPM</span></span>
<span><span class="co">#&gt;  yaml          2.3.8   2023-12-11 [1] RSPM</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  [1] /home/runner/work/_temp/Library</span></span>
<span><span class="co">#&gt;  [2] /opt/R/4.4.0/lib/R/site-library</span></span>
<span><span class="co">#&gt;  [3] /opt/R/4.4.0/lib/R/library</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ──────────────────────────────────────────────────────────</span></span></code></pre></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="evaluation.html"><span class="header-section-number">20</span> Evaluation</a></div>
<div class="next"><a href="debugging.html"><span class="header-section-number">22</span> Debugging</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#translation"><span class="header-section-number">21</span> Translation</a></li>
<li><a class="nav-link" href="#html-exercises-21.2.6"><span class="header-section-number">21.1</span> HTML (Exercises 21.2.6)</a></li>
<li><a class="nav-link" href="#latex-exercises-21.3.8"><span class="header-section-number">21.2</span> LaTeX (Exercises 21.3.8)</a></li>
<li><a class="nav-link" href="#session-information-16"><span class="header-section-number">21.3</span> Session information</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/IndrajeetPatil/Advanced-R-exercises/blob/master/Translation.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/IndrajeetPatil/Advanced-R-exercises/edit/master/Translation.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Advanced R Exercises</strong>" was written by <a class="text-light" href="https://sites.google.com/site/indrajeetspatilmorality/">Indrajeet Patil</a>. It was last built on 2024-04-28.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
