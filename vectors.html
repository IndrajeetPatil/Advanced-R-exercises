<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 3 Vectors | Advanced R Exercises</title>
<meta name="author" content="Indrajeet Patil">
<meta name="description" content="3.1 Atomic vectors (Exercises 3.2.5) Q1. How do you create raw and complex scalars? (See ?raw and ?complex.) A1. In R, scalars are nothing but vectors of length 1, and can be created using the...">
<meta name="generator" content="bookdown 0.38 with bs4_book()">
<meta property="og:title" content="Chapter 3 Vectors | Advanced R Exercises">
<meta property="og:type" content="book">
<meta property="og:url" content="https://bookdown.org/IndrajeetPatil/Advanced-R-exercises/vectors.html">
<meta property="og:image" content="https://bookdown.org/IndrajeetPatil/Advanced-R-exercises/cover.png">
<meta property="og:description" content="3.1 Atomic vectors (Exercises 3.2.5) Q1. How do you create raw and complex scalars? (See ?raw and ?complex.) A1. In R, scalars are nothing but vectors of length 1, and can be created using the...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 3 Vectors | Advanced R Exercises">
<meta name="twitter:description" content="3.1 Atomic vectors (Exercises 3.2.5) Q1. How do you create raw and complex scalars? (See ?raw and ?complex.) A1. In R, scalars are nothing but vectors of length 1, and can be created using the...">
<meta name="twitter:image" content="https://bookdown.org/IndrajeetPatil/Advanced-R-exercises/cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/Roboto-0.4.8/font.css" rel="stylesheet">
<link href="libs/JetBrains_Mono-0.4.8/font.css" rel="stylesheet">
<link href="libs/Roboto_Slab-0.4.8/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.6.1/transition.js"></script><script src="libs/bs3compat-0.6.1/tabs.js"></script><script src="libs/bs3compat-0.6.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Advanced R Exercises</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">About</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="names-and-values.html"><span class="header-section-number">2</span> Names and values</a></li>
<li><a class="active" href="vectors.html"><span class="header-section-number">3</span> Vectors</a></li>
<li><a class="" href="subsetting.html"><span class="header-section-number">4</span> Subsetting</a></li>
<li><a class="" href="control-flow.html"><span class="header-section-number">5</span> Control flow</a></li>
<li><a class="" href="functions.html"><span class="header-section-number">6</span> Functions</a></li>
<li><a class="" href="environments.html"><span class="header-section-number">7</span> Environments</a></li>
<li><a class="" href="conditions.html"><span class="header-section-number">8</span> Conditions</a></li>
<li><a class="" href="functionals.html"><span class="header-section-number">9</span> Functionals</a></li>
<li><a class="" href="function-factories.html"><span class="header-section-number">10</span> Function factories</a></li>
<li><a class="" href="function-operators.html"><span class="header-section-number">11</span> Function operators</a></li>
<li><a class="" href="base-types.html"><span class="header-section-number">12</span> Base Types</a></li>
<li><a class="" href="s3.html"><span class="header-section-number">13</span> S3</a></li>
<li><a class="" href="r6.html"><span class="header-section-number">14</span> R6</a></li>
<li><a class="" href="s4.html"><span class="header-section-number">15</span> S4</a></li>
<li><a class="" href="trade-offs.html"><span class="header-section-number">16</span> Trade-offs</a></li>
<li><a class="" href="big-picture.html"><span class="header-section-number">17</span> Big Picture</a></li>
<li><a class="" href="expressions.html"><span class="header-section-number">18</span> Expressions</a></li>
<li><a class="" href="quasiquotation.html"><span class="header-section-number">19</span> Quasiquotation</a></li>
<li><a class="" href="evaluation.html"><span class="header-section-number">20</span> Evaluation</a></li>
<li><a class="" href="translation.html"><span class="header-section-number">21</span> Translation</a></li>
<li><a class="" href="debugging.html"><span class="header-section-number">22</span> Debugging</a></li>
<li><a class="" href="measuring-performance.html"><span class="header-section-number">23</span> Measuring performance</a></li>
<li><a class="" href="improving-performance.html"><span class="header-section-number">24</span> Improving performance</a></li>
<li><a class="" href="rewriting-r-code-in-c.html"><span class="header-section-number">25</span> Rewriting R code in C++</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/IndrajeetPatil/Advanced-R-exercises">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="vectors" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> Vectors<a class="anchor" aria-label="anchor" href="#vectors"><i class="fas fa-link"></i></a>
</h1>
<div id="atomic-vectors-exercises-3.2.5" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> Atomic vectors (Exercises 3.2.5)<a class="anchor" aria-label="anchor" href="#atomic-vectors-exercises-3.2.5"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Q1.</strong> How do you create raw and complex scalars? (See <code><a href="https://rdrr.io/r/base/raw.html">?raw</a></code> and <code><a href="https://rdrr.io/r/base/complex.html">?complex</a></code>.)</p>
<p><strong>A1.</strong> In R, scalars are nothing but vectors of length 1, and can be created using the same constructor.</p>
<ul>
<li>Raw vectors</li>
</ul>
<p>The raw type holds raw bytes, and can be created using <code><a href="https://rdrr.io/r/base/rawConversion.html">charToRaw()</a></code>. For example,</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"A string"</span></span>
<span></span>
<span><span class="op">(</span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rawConversion.html">charToRaw</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 41 20 73 74 72 69 6e 67</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "raw"</span></span></code></pre></div>
<p>An alternative is to use <code><a href="https://rdrr.io/r/base/raw.html">as.raw()</a></code>:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/raw.html">as.raw</a></span><span class="op">(</span><span class="st">"–"</span><span class="op">)</span> <span class="co"># en-dash</span></span>
<span><span class="co">#&gt; Warning: NAs introduced by coercion</span></span>
<span><span class="co">#&gt; Warning: out-of-range values treated as 0 in coercion to</span></span>
<span><span class="co">#&gt; raw</span></span>
<span><span class="co">#&gt; [1] 00</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/raw.html">as.raw</a></span><span class="op">(</span><span class="st">"—"</span><span class="op">)</span> <span class="co"># em-dash</span></span>
<span><span class="co">#&gt; Warning: NAs introduced by coercion</span></span>
<span></span>
<span><span class="co">#&gt; Warning: out-of-range values treated as 0 in coercion to</span></span>
<span><span class="co">#&gt; raw</span></span>
<span><span class="co">#&gt; [1] 00</span></span></code></pre></div>
<ul>
<li>Complex vectors</li>
</ul>
<p>Complex vectors are used to represent (surprise!) complex numbers.</p>
<p>Example of a complex scalar:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/complex.html">complex</a></span><span class="op">(</span>length.out <span class="op">=</span> <span class="fl">1</span>, real <span class="op">=</span> <span class="fl">1</span>, imaginary <span class="op">=</span> <span class="fl">8</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1+8i</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "complex"</span></span></code></pre></div>
<p><strong>Q2.</strong> Test your knowledge of the vector coercion rules by predicting the output of the following uses of <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="fl">1L</span><span class="op">)</span></span></code></pre></div>
<p><strong>A2.</strong> The vector coercion rules dictate that the data type with smaller size will be converted to data type with bigger size.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 0</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "a" "1"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="fl">1L</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 1</span></span></code></pre></div>
<p><strong>Q3.</strong> Why is <code>1 == "1"</code> true? Why is <code>-1 &lt; FALSE</code> true? Why is <code>"one" &lt; 2</code> false?</p>
<p><strong>A3.</strong> The coercion rules for vectors reveal why some of these comparisons return the results that they do.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span> <span class="op">==</span> <span class="st">"1"</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "1" "1"</span></span></code></pre></div>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">-</span><span class="fl">1</span> <span class="op">&lt;</span> <span class="cn">FALSE</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -1  0</span></span></code></pre></div>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="st">"one"</span> <span class="op">&lt;</span> <span class="fl">2</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"one"</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "one" "2"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"one"</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2"   "one"</span></span></code></pre></div>
<p><strong>Q4.</strong> Why is the default missing value, <code>NA</code>, a logical vector? What’s special about logical vectors? (Hint: think about <code>c(FALSE, NA_character_)</code>.)</p>
<p><strong>A4.</strong> The <code>"logical"</code> type is the lowest in the coercion hierarchy.</p>
<p>So <code>NA</code> defaulting to any other type (e.g. <code>"numeric"</code>) would mean that any time there is a missing element in a vector, rest of the elements would be converted to a type higher in hierarchy, which would be problematic for types lower in hierarchy.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "logical"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">NA_character_</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "FALSE" NA</span></span></code></pre></div>
<p><strong>Q5.</strong> Precisely what do <code><a href="https://rdrr.io/r/base/is.recursive.html">is.atomic()</a></code>, <code><a href="https://rdrr.io/r/base/numeric.html">is.numeric()</a></code>, and <code><a href="https://rdrr.io/r/base/vector.html">is.vector()</a></code> test for?</p>
<p><strong>A5.</strong> Let’s discuss them one-by-one.</p>
<ul>
<li><code><a href="https://rdrr.io/r/base/is.recursive.html">is.atomic()</a></code></li>
</ul>
<p>This function checks if the object is a vector of atomic <em>type</em> (or <code>NULL</code>).</p>
<p>Quoting docs:</p>
<blockquote>
<p><code>is.atomic</code> is true for the atomic types (“logical”, “integer”, “numeric”, “complex”, “character” and “raw”) and <code>NULL</code>.</p>
</blockquote>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/is.recursive.html">is.atomic</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/is.recursive.html">is.atomic</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<ul>
<li><code><a href="https://rdrr.io/r/base/numeric.html">is.numeric()</a></code></li>
</ul>
<p>Its documentation says:</p>
<blockquote>
<p><code>is.numeric</code> should only return true if the base type of the class is <code>double</code> or <code>integer</code> and values can reasonably be regarded as <code>numeric</code></p>
</blockquote>
<p>Therefore, this function only checks for <code>double</code> and <code>integer</code> base types and not other types based on top of these types (<code>factor</code>, <code>Date</code>, <code>POSIXt</code>, or <code>difftime</code>).</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span><span class="op">(</span><span class="fl">1L</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fl">1L</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<ul>
<li><code><a href="https://rdrr.io/r/base/vector.html">is.vector()</a></code></li>
</ul>
<p>As per its documentation:</p>
<blockquote>
<p><code>is.vector</code> returns <code>TRUE</code> if <code>x</code> is a vector of the specified mode having no attributes <em>other than names</em>. It returns <code>FALSE</code> otherwise.</p>
</blockquote>
<p>Thus, the function can be incorrectif the object has attributes other than <code>names</code>.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"x"</span> <span class="op">=</span> <span class="fl">1</span>, <span class="st">"y"</span> <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/vector.html">is.vector</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"m"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"abcdef"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/vector.html">is.vector</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>A better way to check for a vector:</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div id="attributes-exercises-3.3.4" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> Attributes (Exercises 3.3.4)<a class="anchor" aria-label="anchor" href="#attributes-exercises-3.3.4"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Q1.</strong> How is <code><a href="https://rdrr.io/r/stats/setNames.html">setNames()</a></code> implemented? How is <code><a href="https://rdrr.io/r/base/unname.html">unname()</a></code> implemented? Read the source code.</p>
<p><strong>A1.</strong> Let’s have a look at implementations for these functions.</p>
<ul>
<li><code><a href="https://rdrr.io/r/stats/setNames.html">setNames()</a></code></li>
</ul>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">setNames</span></span>
<span><span class="co">#&gt; function (object = nm, nm) </span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;     names(object) &lt;- nm</span></span>
<span><span class="co">#&gt;     object</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="co">#&gt; &lt;bytecode: 0x56504d005b68&gt;</span></span>
<span><span class="co">#&gt; &lt;environment: namespace:stats&gt;</span></span></code></pre></div>
<p>Given this function signature, we can see why, when no first argument is given, the result is still a named vector.</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   a   b </span></span>
<span><span class="co">#&gt; "a" "b"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; a b </span></span>
<span><span class="co">#&gt; 1 2</span></span></code></pre></div>
<ul>
<li><code><a href="https://rdrr.io/r/base/unname.html">unname()</a></code></li>
</ul>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unname</span></span>
<span><span class="co">#&gt; function (obj, force = FALSE) </span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;     if (!is.null(names(obj))) </span></span>
<span><span class="co">#&gt;         names(obj) &lt;- NULL</span></span>
<span><span class="co">#&gt;     if (!is.null(dimnames(obj)) &amp;&amp; (force || !is.data.frame(obj))) </span></span>
<span><span class="co">#&gt;         dimnames(obj) &lt;- NULL</span></span>
<span><span class="co">#&gt;     obj</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="co">#&gt; &lt;bytecode: 0x56504c4768f8&gt;</span></span>
<span><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></span></code></pre></div>
<p><code><a href="https://rdrr.io/r/base/unname.html">unname()</a></code> removes existing names (or dimnames) by setting them to <code>NULL</code>.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unname.html">unname</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "a" "b"</span></span></code></pre></div>
<p><strong>Q2.</strong> What does <code><a href="https://rdrr.io/r/base/dim.html">dim()</a></code> return when applied to a 1-dimensional vector? When might you use <code><a href="https://rdrr.io/r/base/nrow.html">NROW()</a></code> or <code><a href="https://rdrr.io/r/base/nrow.html">NCOL()</a></code>?</p>
<p><strong>A2.</strong> Dimensions for a 1-dimensional vector are <code>NULL</code>. For example,</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
<p><code><a href="https://rdrr.io/r/base/nrow.html">NROW()</a></code> and <code><a href="https://rdrr.io/r/base/nrow.html">NCOL()</a></code> are helpful for getting dimensions for 1D vectors by treating them as if they were matrices or dataframes.</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># example-1</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">NROW</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">NCOL</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span></span>
<span><span class="co"># example-2</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">NROW</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">NCOL</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span></code></pre></div>
<p><strong>Q3.</strong> How would you describe the following three objects? What makes them different from <code>1:5</code>?</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><strong>A3.</strong> <code>x1</code>, <code>x2</code>, and <code>x3</code> are one-dimensional <strong>array</strong>s, but with different “orientations”, if we were to mentally visualize them.</p>
<p><code>x1</code> has 5 entries in the third dimension, <code>x2</code> in the second dimension, while <code>x1</code> in the first dimension.</p>
<p><strong>Q4.</strong> An early draft used this code to illustrate <code><a href="https://rdrr.io/r/base/structure.html">structure()</a></code>:</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/structure.html">structure</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, comment <span class="op">=</span> <span class="st">"my attribute"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5</span></span></code></pre></div>
<p>But when you print that object you don’t see the comment attribute. Why? Is the attribute missing, or is there something else special about it? (Hint: try using help.)</p>
<p><strong>A4.</strong> From <code><a href="https://rdrr.io/r/base/attributes.html">?attributes</a></code> (emphasis mine):</p>
<blockquote>
<p>Note that some attributes (namely class, <strong>comment</strong>, dim, dimnames, names, row.names and tsp) are treated specially and have restrictions on the values which can be set.</p>
</blockquote>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/structure.html">structure</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, x <span class="op">=</span> <span class="st">"my attribute"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5</span></span>
<span><span class="co">#&gt; attr(,"x")</span></span>
<span><span class="co">#&gt; [1] "my attribute"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/structure.html">structure</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, comment <span class="op">=</span> <span class="st">"my attribute"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5</span></span></code></pre></div>
</div>
<div id="s3-atomic-vectors-exercises-3.4.5" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> S3 atomic vectors (Exercises 3.4.5)<a class="anchor" aria-label="anchor" href="#s3-atomic-vectors-exercises-3.4.5"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Q1.</strong> What sort of object does <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> return? What is its type? What attributes does it have? How does the dimensionality change as you tabulate more variables?</p>
<p><strong>A1.</strong> <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> returns an array of <code>integer</code> type and its dimensions scale with the number of variables present.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">am</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  0  1 </span></span>
<span><span class="co">#&gt; 19 13</span></span>
<span><span class="op">(</span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">am</span>, <span class="va">mtcars</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    </span></span>
<span><span class="co">#&gt;      4  6  8</span></span>
<span><span class="co">#&gt;   0  3  4 12</span></span>
<span><span class="co">#&gt;   1  8  3  2</span></span>
<span><span class="op">(</span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">am</span>, <span class="va">mtcars</span><span class="op">$</span><span class="va">cyl</span>, <span class="va">mtcars</span><span class="op">$</span><span class="va">vs</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; , ,  = 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    </span></span>
<span><span class="co">#&gt;      4  6  8</span></span>
<span><span class="co">#&gt;   0  0  0 12</span></span>
<span><span class="co">#&gt;   1  1  3  2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , ,  = 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    </span></span>
<span><span class="co">#&gt;      4  6  8</span></span>
<span><span class="co">#&gt;   0  3  4  0</span></span>
<span><span class="co">#&gt;   1  7  0  0</span></span>
<span></span>
<span><span class="co"># type</span></span>
<span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span>, <span class="va">typeof</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "integer"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "integer"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] "integer"</span></span>
<span></span>
<span><span class="co"># attributes</span></span>
<span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span>, <span class="va">attributes</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [[1]]$dim</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$dimnames</span></span>
<span><span class="co">#&gt; [[1]]$dimnames[[1]]</span></span>
<span><span class="co">#&gt; [1] "0" "1"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[1]]$class</span></span>
<span><span class="co">#&gt; [1] "table"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [[2]]$dim</span></span>
<span><span class="co">#&gt; [1] 2 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]$dimnames</span></span>
<span><span class="co">#&gt; [[2]]$dimnames[[1]]</span></span>
<span><span class="co">#&gt; [1] "0" "1"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]$dimnames[[2]]</span></span>
<span><span class="co">#&gt; [1] "4" "6" "8"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]$class</span></span>
<span><span class="co">#&gt; [1] "table"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [[3]]$dim</span></span>
<span><span class="co">#&gt; [1] 2 3 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]$dimnames</span></span>
<span><span class="co">#&gt; [[3]]$dimnames[[1]]</span></span>
<span><span class="co">#&gt; [1] "0" "1"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]$dimnames[[2]]</span></span>
<span><span class="co">#&gt; [1] "4" "6" "8"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]$dimnames[[3]]</span></span>
<span><span class="co">#&gt; [1] "0" "1"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]$class</span></span>
<span><span class="co">#&gt; [1] "table"</span></span></code></pre></div>
<p><strong>Q2.</strong> What happens to a factor when you modify its levels?</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">f1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">f1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><strong>A2.</strong> Its levels change but the underlying integer values remain the same.</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span></span>
<span><span class="va">f1</span></span>
<span><span class="co">#&gt;  [1] a b c d e f g h i j k l m n o p q r s t u v w x y z</span></span>
<span><span class="co">#&gt; 26 Levels: a b c d e f g h i j k l m n o p q r s t u ... z</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="va">f1</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18</span></span>
<span><span class="co">#&gt; [19] 19 20 21 22 23 24 25 26</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">f1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">f1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">f1</span></span>
<span><span class="co">#&gt;  [1] z y x w v u t s r q p o n m l k j i h g f e d c b a</span></span>
<span><span class="co">#&gt; 26 Levels: z y x w v u t s r q p o n m l k j i h g f ... a</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="va">f1</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18</span></span>
<span><span class="co">#&gt; [19] 19 20 21 22 23 24 25 26</span></span></code></pre></div>
<p><strong>Q3.</strong> What does this code do? How do <code>f2</code> and <code>f3</code> differ from <code>f1</code>?</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">f3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">letters</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><strong>A3.</strong> In this code:</p>
<ul>
<li>
<code>f2</code>: Only the underlying integers are reversed, but levels remain unchanged.</li>
</ul>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">f2</span></span>
<span><span class="co">#&gt;  [1] z y x w v u t s r q p o n m l k j i h g f e d c b a</span></span>
<span><span class="co">#&gt; 26 Levels: a b c d e f g h i j k l m n o p q r s t u ... z</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="va">f2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10  9</span></span>
<span><span class="co">#&gt; [19]  8  7  6  5  4  3  2  1</span></span></code></pre></div>
<ul>
<li>
<code>f3</code>: Both the levels and the underlying integers are reversed.</li>
</ul>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">f3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">letters</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">f3</span></span>
<span><span class="co">#&gt;  [1] a b c d e f g h i j k l m n o p q r s t u v w x y z</span></span>
<span><span class="co">#&gt; 26 Levels: z y x w v u t s r q p o n m l k j i h g f ... a</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="va">f3</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10  9</span></span>
<span><span class="co">#&gt; [19]  8  7  6  5  4  3  2  1</span></span></code></pre></div>
</div>
<div id="lists-exercises-3.5.4" class="section level2" number="3.4">
<h2>
<span class="header-section-number">3.4</span> Lists (Exercises 3.5.4)<a class="anchor" aria-label="anchor" href="#lists-exercises-3.5.4"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Q1.</strong> List all the ways that a list differs from an atomic vector.</p>
<p><strong>A1.</strong> Here is a table of comparison:</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="22%">
<col width="36%">
<col width="40%">
</colgroup>
<thead><tr class="header">
<th align="left">feature</th>
<th align="left">atomic vector</th>
<th align="left">list (aka generic vector)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">element type</td>
<td align="left">unique</td>
<td align="left">mixed<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;a list can contain a mix of types&lt;/p&gt;"><sup>1</sup></a>
</td>
</tr>
<tr class="even">
<td align="left">recursive?</td>
<td align="left">no</td>
<td align="left">yes<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;a list can contain itself&lt;/p&gt;"><sup>2</sup></a>
</td>
</tr>
<tr class="odd">
<td align="left">return for out-of-bounds index</td>
<td align="left"><code>NA</code></td>
<td align="left"><code>NULL</code></td>
</tr>
<tr class="even">
<td align="left">memory address</td>
<td align="left">single memory reference<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;&lt;code&gt;lobstr::ref(c(1, 2))&lt;/code&gt;&lt;/p&gt;"><sup>3</sup></a>
</td>
<td align="left">reference per list element<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;&lt;code&gt;lobstr::ref(list(1, 2))&lt;/code&gt;&lt;/p&gt;"><sup>4</sup></a>
</td>
</tr>
</tbody>
</table></div>
<p><strong>Q2.</strong> Why do you need to use <code><a href="https://rdrr.io/r/base/unlist.html">unlist()</a></code> to convert a list to an atomic vector? Why doesn’t <code><a href="https://rdrr.io/r/base/vector.html">as.vector()</a></code> work?</p>
<p><strong>A2.</strong> A list already <em>is</em> a (generic) vector, so <code><a href="https://rdrr.io/r/base/vector.html">as.vector()</a></code> is not going to change anything, and there is no <code>as.atomic.vector</code>. Thus, we need to use <code><a href="https://rdrr.io/r/base/unlist.html">unlist()</a></code>.</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/vector.html">is.vector</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/is.recursive.html">is.atomic</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span></span>
<span><span class="co"># still a list</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; $a</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $b</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span></span>
<span><span class="co"># now a vector</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; a b </span></span>
<span><span class="co">#&gt; 1 2</span></span></code></pre></div>
<p><strong>Q3.</strong> Compare and contrast <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> and <code><a href="https://rdrr.io/r/base/unlist.html">unlist()</a></code> when combining a date and date-time into a single vector.</p>
<p><strong>A3.</strong> Let’s first create a date and datetime object</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"1947-08-15"</span><span class="op">)</span></span>
<span><span class="va">datetime</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"1950-01-26 00:01"</span>, tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span></span></code></pre></div>
<p>And check their attributes and underlying <code>double</code> representation:</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span></span>
<span><span class="co">#&gt; $class</span></span>
<span><span class="co">#&gt; [1] "Date"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">datetime</span><span class="op">)</span></span>
<span><span class="co">#&gt; $class</span></span>
<span><span class="co">#&gt; [1] "POSIXct" "POSIXt" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tzone</span></span>
<span><span class="co">#&gt; [1] "UTC"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/double.html">as.double</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span> <span class="co"># number of days since the Unix epoch 1970-01-01</span></span>
<span><span class="co">#&gt; [1] -8175</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/double.html">as.double</a></span><span class="op">(</span><span class="va">datetime</span><span class="op">)</span> <span class="co"># number of seconds since then</span></span>
<span><span class="co">#&gt; [1] -628991940</span></span></code></pre></div>
<ul>
<li>Behavior with <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>
</li>
</ul>
<p>Since <code>S3</code> method for <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> dispatches on the first argument, the resulting class of the vector is going to be the same as the first argument. Because of this, some attributes will be lost.</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">datetime</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "1947-08-15" "1950-01-26"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">datetime</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $class</span></span>
<span><span class="co">#&gt; [1] "Date"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">datetime</span>, <span class="va">date</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "1950-01-26 00:01:00 UTC" "1947-08-15 00:00:00 UTC"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">datetime</span>, <span class="va">date</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $class</span></span>
<span><span class="co">#&gt; [1] "POSIXct" "POSIXt" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tzone</span></span>
<span><span class="co">#&gt; [1] "UTC"</span></span></code></pre></div>
<ul>
<li>Behavior with <code><a href="https://rdrr.io/r/base/unlist.html">unlist()</a></code>
</li>
</ul>
<p>It removes all attributes and we are left only with the underlying double representations of these objects.</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">datetime</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]      -8175 -628991940</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">datetime</span>, <span class="va">date</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -628991940      -8175</span></span></code></pre></div>
</div>
<div id="data-frames-and-tibbles-exercises-3.6.8" class="section level2" number="3.5">
<h2>
<span class="header-section-number">3.5</span> Data frames and tibbles (Exercises 3.6.8)<a class="anchor" aria-label="anchor" href="#data-frames-and-tibbles-exercises-3.6.8"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Q1.</strong> Can you have a data frame with zero rows? What about zero columns?</p>
<p><strong>A1.</strong> Data frame with 0 rows is possible. This is basically a list with a vector of length 0.</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">numeric</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] x</span></span>
<span><span class="co">#&gt; &lt;0 rows&gt; (or 0-length row.names)</span></span></code></pre></div>
<p>Data frame with 0 columns is also possible. This will be an empty list.</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>row.names <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; data frame with 0 columns and 1 row</span></span></code></pre></div>
<p>And, finally, data frame with 0 rows <em>and</em> columns is also possible:</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; data frame with 0 columns and 0 rows</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0 0</span></span></code></pre></div>
<p>Although, it might not be common to <em>create</em> such data frames, they can be results of subsetting. For example,</p>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">BOD</span><span class="op">[</span><span class="fl">0</span>, <span class="op">]</span></span>
<span><span class="co">#&gt; [1] Time   demand</span></span>
<span><span class="co">#&gt; &lt;0 rows&gt; (or 0-length row.names)</span></span>
<span></span>
<span><span class="va">BOD</span><span class="op">[</span>, <span class="fl">0</span><span class="op">]</span></span>
<span><span class="co">#&gt; data frame with 0 columns and 6 rows</span></span>
<span></span>
<span><span class="va">BOD</span><span class="op">[</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">]</span></span>
<span><span class="co">#&gt; data frame with 0 columns and 0 rows</span></span></code></pre></div>
<p><strong>Q2.</strong> What happens if you attempt to set rownames that are not unique?</p>
<p><strong>A2.</strong> If you attempt to set data frame rownames that are not unique, it will not work.</p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>row.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in data.frame(row.names = c(1, 1)): duplicate row.names: 1</span></span></code></pre></div>
<p><strong>Q3.</strong> If <code>df</code> is a data frame, what can you say about <code>t(df)</code>, and <code>t(t(df))</code>? Perform some experiments, making sure to try different column types.</p>
<p><strong>A3.</strong> Transposing a data frame:</p>
<ul>
<li>transforms it into a matrix</li>
<li>coerces all its elements to be of the same type</li>
</ul>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># original</span></span>
<span><span class="op">(</span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span></span>
<span><span class="co">#&gt; 1          5.1         3.5          1.4         0.2  setosa</span></span>
<span><span class="co">#&gt; 2          4.9         3.0          1.4         0.2  setosa</span></span>
<span><span class="co">#&gt; 3          4.7         3.2          1.3         0.2  setosa</span></span>
<span><span class="co">#&gt; 4          4.6         3.1          1.5         0.2  setosa</span></span>
<span><span class="co">#&gt; 5          5.0         3.6          1.4         0.2  setosa</span></span>
<span><span class="co">#&gt; 6          5.4         3.9          1.7         0.4  setosa</span></span>
<span></span>
<span><span class="co"># transpose</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt;              1        2        3        4        5       </span></span>
<span><span class="co">#&gt; Sepal.Length "5.1"    "4.9"    "4.7"    "4.6"    "5.0"   </span></span>
<span><span class="co">#&gt; Sepal.Width  "3.5"    "3.0"    "3.2"    "3.1"    "3.6"   </span></span>
<span><span class="co">#&gt; Petal.Length "1.4"    "1.4"    "1.3"    "1.5"    "1.4"   </span></span>
<span><span class="co">#&gt; Petal.Width  "0.2"    "0.2"    "0.2"    "0.2"    "0.2"   </span></span>
<span><span class="co">#&gt; Species      "setosa" "setosa" "setosa" "setosa" "setosa"</span></span>
<span><span class="co">#&gt;              6       </span></span>
<span><span class="co">#&gt; Sepal.Length "5.4"   </span></span>
<span><span class="co">#&gt; Sepal.Width  "3.9"   </span></span>
<span><span class="co">#&gt; Petal.Length "1.7"   </span></span>
<span><span class="co">#&gt; Petal.Width  "0.4"   </span></span>
<span><span class="co">#&gt; Species      "setosa"</span></span>
<span></span>
<span><span class="co"># transpose of a transpose</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width</span></span>
<span><span class="co">#&gt; 1 "5.1"        "3.5"       "1.4"        "0.2"      </span></span>
<span><span class="co">#&gt; 2 "4.9"        "3.0"       "1.4"        "0.2"      </span></span>
<span><span class="co">#&gt; 3 "4.7"        "3.2"       "1.3"        "0.2"      </span></span>
<span><span class="co">#&gt; 4 "4.6"        "3.1"       "1.5"        "0.2"      </span></span>
<span><span class="co">#&gt; 5 "5.0"        "3.6"       "1.4"        "0.2"      </span></span>
<span><span class="co">#&gt; 6 "5.4"        "3.9"       "1.7"        "0.4"      </span></span>
<span><span class="co">#&gt;   Species </span></span>
<span><span class="co">#&gt; 1 "setosa"</span></span>
<span><span class="co">#&gt; 2 "setosa"</span></span>
<span><span class="co">#&gt; 3 "setosa"</span></span>
<span><span class="co">#&gt; 4 "setosa"</span></span>
<span><span class="co">#&gt; 5 "setosa"</span></span>
<span><span class="co">#&gt; 6 "setosa"</span></span>
<span></span>
<span><span class="co"># is it a dataframe?</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">is.data.frame</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">is.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">is.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span></span>
<span><span class="co"># check type</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "list"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "character"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html">typeof</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "character"</span></span>
<span></span>
<span><span class="co"># check dimensions</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 6 5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5 6</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 6 5</span></span></code></pre></div>
<p><strong>Q4.</strong> What does <code><a href="https://rdrr.io/r/base/matrix.html">as.matrix()</a></code> do when applied to a data frame with columns of different types? How does it differ from <code><a href="https://rdrr.io/r/base/data.matrix.html">data.matrix()</a></code>?</p>
<p><strong>A4.</strong> The return type of <code><a href="https://rdrr.io/r/base/matrix.html">as.matrix()</a></code> depends on the data frame column types.</p>
<p>As docs for <code><a href="https://rdrr.io/r/base/matrix.html">as.matrix()</a></code> mention:</p>
<blockquote>
<p>The method for data frames will return a character matrix if there is only atomic columns and any non-(numeric/logical/complex) column, applying as.vector to factors and format to other non-character columns. Otherwise the usual coercion hierarchy (logical &lt; integer &lt; double &lt; complex) will be used, e.g. all-logical data frames will be coerced to a logical matrix, mixed logical-integer will give an integer matrix, etc.</p>
</blockquote>
<p>Let’s experiment:</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># example with mixed types (coerced to character)</span></span>
<span><span class="op">(</span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span></span>
<span><span class="co">#&gt; 1          5.1         3.5          1.4         0.2  setosa</span></span>
<span><span class="co">#&gt; 2          4.9         3.0          1.4         0.2  setosa</span></span>
<span><span class="co">#&gt; 3          4.7         3.2          1.3         0.2  setosa</span></span>
<span><span class="co">#&gt; 4          4.6         3.1          1.5         0.2  setosa</span></span>
<span><span class="co">#&gt; 5          5.0         3.6          1.4         0.2  setosa</span></span>
<span><span class="co">#&gt; 6          5.4         3.9          1.7         0.4  setosa</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width</span></span>
<span><span class="co">#&gt; 1 "5.1"        "3.5"       "1.4"        "0.2"      </span></span>
<span><span class="co">#&gt; 2 "4.9"        "3.0"       "1.4"        "0.2"      </span></span>
<span><span class="co">#&gt; 3 "4.7"        "3.2"       "1.3"        "0.2"      </span></span>
<span><span class="co">#&gt; 4 "4.6"        "3.1"       "1.5"        "0.2"      </span></span>
<span><span class="co">#&gt; 5 "5.0"        "3.6"       "1.4"        "0.2"      </span></span>
<span><span class="co">#&gt; 6 "5.4"        "3.9"       "1.7"        "0.4"      </span></span>
<span><span class="co">#&gt;   Species </span></span>
<span><span class="co">#&gt; 1 "setosa"</span></span>
<span><span class="co">#&gt; 2 "setosa"</span></span>
<span><span class="co">#&gt; 3 "setosa"</span></span>
<span><span class="co">#&gt; 4 "setosa"</span></span>
<span><span class="co">#&gt; 5 "setosa"</span></span>
<span><span class="co">#&gt; 6 "setosa"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;  chr [1:6, 1:5] "5.1" "4.9" "4.7" "4.6" "5.0" "5.4" ...</span></span>
<span><span class="co">#&gt;  - attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   ..$ : chr [1:6] "1" "2" "3" "4" ...</span></span>
<span><span class="co">#&gt;   ..$ : chr [1:5] "Sepal.Length" "Sepal.Width" "Petal.Length" "Petal.Width" ...</span></span>
<span></span>
<span><span class="co"># another example (no such coercion)</span></span>
<span><span class="va">BOD</span></span>
<span><span class="co">#&gt;   Time demand</span></span>
<span><span class="co">#&gt; 1    1    8.3</span></span>
<span><span class="co">#&gt; 2    2   10.3</span></span>
<span><span class="co">#&gt; 3    3   19.0</span></span>
<span><span class="co">#&gt; 4    4   16.0</span></span>
<span><span class="co">#&gt; 5    5   15.6</span></span>
<span><span class="co">#&gt; 6    7   19.8</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">BOD</span><span class="op">)</span></span>
<span><span class="co">#&gt;      Time demand</span></span>
<span><span class="co">#&gt; [1,]    1    8.3</span></span>
<span><span class="co">#&gt; [2,]    2   10.3</span></span>
<span><span class="co">#&gt; [3,]    3   19.0</span></span>
<span><span class="co">#&gt; [4,]    4   16.0</span></span>
<span><span class="co">#&gt; [5,]    5   15.6</span></span>
<span><span class="co">#&gt; [6,]    7   19.8</span></span></code></pre></div>
<p>On the other hand, <code><a href="https://rdrr.io/r/base/data.matrix.html">data.matrix()</a></code> always returns a numeric matrix.</p>
<p>From documentation of <code><a href="https://rdrr.io/r/base/data.matrix.html">data.matrix()</a></code>:</p>
<blockquote>
<p>Return the matrix obtained by converting all the variables in a data frame to numeric mode and then binding them together as the columns of a matrix. Factors and ordered factors are replaced by their internal codes. […] Character columns are first converted to factors and then to integers.</p>
</blockquote>
<p>Let’s experiment:</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/data.matrix.html">data.matrix</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt;   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span></span>
<span><span class="co">#&gt; 1          5.1         3.5          1.4         0.2       1</span></span>
<span><span class="co">#&gt; 2          4.9         3.0          1.4         0.2       1</span></span>
<span><span class="co">#&gt; 3          4.7         3.2          1.3         0.2       1</span></span>
<span><span class="co">#&gt; 4          4.6         3.1          1.5         0.2       1</span></span>
<span><span class="co">#&gt; 5          5.0         3.6          1.4         0.2       1</span></span>
<span><span class="co">#&gt; 6          5.4         3.9          1.7         0.4       1</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.matrix.html">data.matrix</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;  num [1:6, 1:5] 5.1 4.9 4.7 4.6 5 5.4 3.5 3 3.2 3.1 ...</span></span>
<span><span class="co">#&gt;  - attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">#&gt;   ..$ : chr [1:6] "1" "2" "3" "4" ...</span></span>
<span><span class="co">#&gt;   ..$ : chr [1:5] "Sepal.Length" "Sepal.Width" "Petal.Length" "Petal.Width" ...</span></span></code></pre></div>
</div>
<div id="session-information-1" class="section level2" number="3.6">
<h2>
<span class="header-section-number">3.6</span> Session information<a class="anchor" aria-label="anchor" href="#session-information-1"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sessioninfo</span><span class="fu">::</span><span class="fu"><a href="https://r-lib.github.io/sessioninfo/reference/session_info.html">session_info</a></span><span class="op">(</span>include_base <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; ─ Session info ───────────────────────────────────────────</span></span>
<span><span class="co">#&gt;  setting  value</span></span>
<span><span class="co">#&gt;  version  R version 4.3.3 (2024-02-29)</span></span>
<span><span class="co">#&gt;  os       Ubuntu 22.04.4 LTS</span></span>
<span><span class="co">#&gt;  system   x86_64, linux-gnu</span></span>
<span><span class="co">#&gt;  ui       X11</span></span>
<span><span class="co">#&gt;  language (EN)</span></span>
<span><span class="co">#&gt;  collate  C.UTF-8</span></span>
<span><span class="co">#&gt;  ctype    C.UTF-8</span></span>
<span><span class="co">#&gt;  tz       UTC</span></span>
<span><span class="co">#&gt;  date     2024-03-10</span></span>
<span><span class="co">#&gt;  pandoc   3.1.8 @ /opt/hostedtoolcache/pandoc/3.1.8/x64/ (via rmarkdown)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ─ Packages ───────────────────────────────────────────────</span></span>
<span><span class="co">#&gt;  package     * version date (UTC) lib source</span></span>
<span><span class="co">#&gt;  base        * 4.3.3   2024-03-04 [3] local</span></span>
<span><span class="co">#&gt;  bookdown      0.38    2024-03-04 [1] RSPM</span></span>
<span><span class="co">#&gt;  bslib         0.6.1   2023-11-28 [1] RSPM</span></span>
<span><span class="co">#&gt;  cachem        1.0.8   2023-05-01 [1] RSPM</span></span>
<span><span class="co">#&gt;  cli           3.6.2   2023-12-11 [1] RSPM</span></span>
<span><span class="co">#&gt;  compiler      4.3.3   2024-03-04 [3] local</span></span>
<span><span class="co">#&gt;  datasets    * 4.3.3   2024-03-04 [3] local</span></span>
<span><span class="co">#&gt;  digest        0.6.34  2024-01-11 [1] RSPM</span></span>
<span><span class="co">#&gt;  downlit       0.4.3   2023-06-29 [1] RSPM</span></span>
<span><span class="co">#&gt;  evaluate      0.23    2023-11-01 [1] RSPM</span></span>
<span><span class="co">#&gt;  fastmap       1.1.1   2023-02-24 [1] RSPM</span></span>
<span><span class="co">#&gt;  fs            1.6.3   2023-07-20 [1] RSPM</span></span>
<span><span class="co">#&gt;  graphics    * 4.3.3   2024-03-04 [3] local</span></span>
<span><span class="co">#&gt;  grDevices   * 4.3.3   2024-03-04 [3] local</span></span>
<span><span class="co">#&gt;  htmltools     0.5.7   2023-11-03 [1] RSPM</span></span>
<span><span class="co">#&gt;  jquerylib     0.1.4   2021-04-26 [1] RSPM</span></span>
<span><span class="co">#&gt;  jsonlite      1.8.8   2023-12-04 [1] RSPM</span></span>
<span><span class="co">#&gt;  knitr         1.45    2023-10-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  lifecycle     1.0.4   2023-11-07 [1] RSPM</span></span>
<span><span class="co">#&gt;  magrittr    * 2.0.3   2022-03-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  memoise       2.0.1   2021-11-26 [1] RSPM</span></span>
<span><span class="co">#&gt;  methods     * 4.3.3   2024-03-04 [3] local</span></span>
<span><span class="co">#&gt;  purrr         1.0.2   2023-08-10 [1] RSPM</span></span>
<span><span class="co">#&gt;  R6            2.5.1   2021-08-19 [1] RSPM</span></span>
<span><span class="co">#&gt;  rlang         1.1.3   2024-01-10 [1] RSPM</span></span>
<span><span class="co">#&gt;  rmarkdown     2.26    2024-03-05 [1] RSPM</span></span>
<span><span class="co">#&gt;  sass          0.4.8   2023-12-06 [1] RSPM</span></span>
<span><span class="co">#&gt;  sessioninfo   1.2.2   2021-12-06 [1] RSPM</span></span>
<span><span class="co">#&gt;  stats       * 4.3.3   2024-03-04 [3] local</span></span>
<span><span class="co">#&gt;  tools         4.3.3   2024-03-04 [3] local</span></span>
<span><span class="co">#&gt;  utils       * 4.3.3   2024-03-04 [3] local</span></span>
<span><span class="co">#&gt;  vctrs         0.6.5   2023-12-01 [1] RSPM</span></span>
<span><span class="co">#&gt;  withr         3.0.0   2024-01-16 [1] RSPM</span></span>
<span><span class="co">#&gt;  xfun          0.42    2024-02-08 [1] RSPM</span></span>
<span><span class="co">#&gt;  xml2          1.3.6   2023-12-04 [1] RSPM</span></span>
<span><span class="co">#&gt;  yaml          2.3.8   2023-12-11 [1] RSPM</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  [1] /home/runner/work/_temp/Library</span></span>
<span><span class="co">#&gt;  [2] /opt/R/4.3.3/lib/R/site-library</span></span>
<span><span class="co">#&gt;  [3] /opt/R/4.3.3/lib/R/library</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ──────────────────────────────────────────────────────────</span></span></code></pre></div>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="names-and-values.html"><span class="header-section-number">2</span> Names and values</a></div>
<div class="next"><a href="subsetting.html"><span class="header-section-number">4</span> Subsetting</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#vectors"><span class="header-section-number">3</span> Vectors</a></li>
<li><a class="nav-link" href="#atomic-vectors-exercises-3.2.5"><span class="header-section-number">3.1</span> Atomic vectors (Exercises 3.2.5)</a></li>
<li><a class="nav-link" href="#attributes-exercises-3.3.4"><span class="header-section-number">3.2</span> Attributes (Exercises 3.3.4)</a></li>
<li><a class="nav-link" href="#s3-atomic-vectors-exercises-3.4.5"><span class="header-section-number">3.3</span> S3 atomic vectors (Exercises 3.4.5)</a></li>
<li><a class="nav-link" href="#lists-exercises-3.5.4"><span class="header-section-number">3.4</span> Lists (Exercises 3.5.4)</a></li>
<li><a class="nav-link" href="#data-frames-and-tibbles-exercises-3.6.8"><span class="header-section-number">3.5</span> Data frames and tibbles (Exercises 3.6.8)</a></li>
<li><a class="nav-link" href="#session-information-1"><span class="header-section-number">3.6</span> Session information</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/IndrajeetPatil/Advanced-R-exercises/blob/master/Vectors.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/IndrajeetPatil/Advanced-R-exercises/edit/master/Vectors.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Advanced R Exercises</strong>" was written by <a class="text-light" href="https://sites.google.com/site/indrajeetspatilmorality/">Indrajeet Patil</a>. It was last built on 2024-03-10.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
