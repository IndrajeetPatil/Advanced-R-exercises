# Vectors

## Exercise 3.2.5 

### Q1. Create raw and complex scalars {-}

The raw type holds raw bytes. For example,

```{r}
x <- "A string"

(y <- charToRaw(x))

typeof(y)
```

You can use it to also figure out some encoding issues (both of these are scalars):

```{r}
charToRaw("\"")
charToRaw("”")
```

Complex vectors can be used to represent (surprise!) complex numbers.

Example of a complex scalar:

```{r}
(x <- complex(length.out = 1, real = 1, imaginary = 8))

typeof(x)
```

### Q2. Vector coercion rules {-}

Usually, the more *general* type would take precedence.

```{r}
c(1, FALSE)

c("a", 1)

c(TRUE, 1L)
```

Let's try some more examples.

```{r}
c(1.0, 1L)

c(1.0, "1.0")

c(TRUE, "1.0")
```

### Q3. Comparisons between different types {-}

The coercion in vectors reveal why some of these comparisons return the results that they do.

```{r}
1 == "1"

c(1, "1")
```

```{r}
-1 < FALSE

c(-1, FALSE)
```

```{r}
"one" < 2

c("one", 2)

sort(c("one", 2))
```

### Q4. Why `NA` defaults to `"logical"` type {-}

The `"logical"` type is the lowest in the coercion hierarchy.

So `NA` defaulting to any other type (e.g. `"numeric"`) would mean that any time there is a missing element in a vector, rest of the elements would be converted to a type higher in hierarchy, which would be problematic for types lower in hierarchy.

```{r}
typeof(NA)

c(FALSE, NA_character_)
```

### Q5. Misleading variants of `is.*` functions {-}

- `is.atomic()`:
- `is.numeric()`:
- `is.vector()`:


## Exercise 3.3.4

### Q1. Reading source code {-}

```{r}
setNames

setNames(c(1, 2), c("a", "b"))
```

```{r}
unname

A <- provideDimnames(N <- array(1:24, dim = 2:4))

unname(A, force = TRUE)
```

### Q2. 1-dimensional vector {-}

Dimensions for a 1-dimensional vector are `NULL`.

`NROW()` and `NCOL()` are helpful for getting dimensions for 1D vectors by treating them as if they were a data frame vectors.

```{r}
x <- character(0)

dim(x)

nrow(x)
NROW(x)

ncol(x)
NCOL(x)
```

### Q3. Difference between vectors and arrays {-}

`1:5` is a 1D vector without dimensions, while `x1`, `x2`, and `x3` are one-dimensional arrays.

```{r}
1:5
(x1 <- array(1:5, c(1, 1, 5)))
(x2 <- array(1:5, c(1, 5, 1)))
(x3 <- array(1:5, c(5, 1, 1)))
```

### Q4. About `structure()` {-}

From `?attributes` (emphasis mine):

> Note that some attributes (namely class, **comment**, dim, dimnames, names, row.names and tsp) are treated specially and have restrictions on the values which can be set.

```{r}
structure(1:5, x = "my attribute")

structure(1:5, comment = "my attribute")
```

