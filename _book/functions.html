<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 6 Functions | Advanced R Exercises</title>
<meta name="author" content="Indrajeet Patil">
<meta name="description" content='6.1 Exercise 6.2.5 Q1. Given a name, like "mean", match.fun() lets you find a function. Given a function, can you find its name? Why doesn’t that make sense in R? A1. Given a name, match.fun()...'>
<meta name="generator" content="bookdown 0.25 with bs4_book()">
<meta property="og:title" content="Chapter 6 Functions | Advanced R Exercises">
<meta property="og:type" content="book">
<meta property="og:image" content="/cover.png">
<meta property="og:description" content='6.1 Exercise 6.2.5 Q1. Given a name, like "mean", match.fun() lets you find a function. Given a function, can you find its name? Why doesn’t that make sense in R? A1. Given a name, match.fun()...'>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 6 Functions | Advanced R Exercises">
<meta name="twitter:description" content='6.1 Exercise 6.2.5 Q1. Given a name, like "mean", match.fun() lets you find a function. Given a function, can you find its name? Why doesn’t that make sense in R? A1. Given a name, match.fun()...'>
<meta name="twitter:image" content="/cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Advanced R Exercises</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">About</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="names-and-values.html"><span class="header-section-number">2</span> Names and values</a></li>
<li><a class="" href="vectors.html"><span class="header-section-number">3</span> Vectors</a></li>
<li><a class="" href="subsetting.html"><span class="header-section-number">4</span> Subsetting</a></li>
<li><a class="" href="control-flow.html"><span class="header-section-number">5</span> Control flow</a></li>
<li><a class="active" href="functions.html"><span class="header-section-number">6</span> Functions</a></li>
<li><a class="" href="environments.html"><span class="header-section-number">7</span> Environments</a></li>
<li><a class="" href="conditions.html"><span class="header-section-number">8</span> Conditions</a></li>
<li><a class="" href="functionals.html"><span class="header-section-number">9</span> Functionals</a></li>
<li><a class="" href="function-factories.html"><span class="header-section-number">10</span> Function factories</a></li>
<li><a class="" href="function-operators.html"><span class="header-section-number">11</span> Function operators</a></li>
<li><a class="" href="base-types.html"><span class="header-section-number">12</span> Base Types</a></li>
<li><a class="" href="s3.html"><span class="header-section-number">13</span> S3</a></li>
<li><a class="" href="r6.html"><span class="header-section-number">14</span> R6</a></li>
<li><a class="" href="s4.html"><span class="header-section-number">15</span> S4</a></li>
<li><a class="" href="trade-offs.html"><span class="header-section-number">16</span> Trade-offs</a></li>
<li><a class="" href="big-picture.html"><span class="header-section-number">17</span> Big Picture</a></li>
<li><a class="" href="expressions.html"><span class="header-section-number">18</span> Expressions</a></li>
<li><a class="" href="quotation.html"><span class="header-section-number">19</span> Quotation</a></li>
<li><a class="" href="debugging.html"><span class="header-section-number">20</span> Debugging</a></li>
<li><a class="" href="measuring-performance.html"><span class="header-section-number">21</span> Measuring performance</a></li>
<li><a class="" href="improving-performance.html"><span class="header-section-number">22</span> Improving performance</a></li>
<li><a class="" href="rewriting-r-code-in-c.html"><span class="header-section-number">23</span> Rewriting R code in C++</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/IndrajeetPatil/Advanced-R-exercises">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="functions" class="section level1" number="6">
<h1>
<span class="header-section-number">6</span> Functions<a class="anchor" aria-label="anchor" href="#functions"><i class="fas fa-link"></i></a>
</h1>
<div id="exercise-6.2.5" class="section level2" number="6.1">
<h2>
<span class="header-section-number">6.1</span> Exercise 6.2.5<a class="anchor" aria-label="anchor" href="#exercise-6.2.5"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Q1.</strong> Given a name, like <code>"mean"</code>, <code><a href="https://rdrr.io/r/base/match.fun.html">match.fun()</a></code> lets you find a function. Given a function, can you find its name? Why doesn’t that make sense in R?</p>
<p><strong>A1.</strong> Given a name, <code><a href="https://rdrr.io/r/base/match.fun.html">match.fun()</a></code> lets you find a function.</p>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/match.fun.html">match.fun</a></span><span class="op">(</span><span class="st">"mean"</span><span class="op">)</span>
<span class="co">#&gt; function (x, ...) </span>
<span class="co">#&gt; UseMethod("mean")</span>
<span class="co">#&gt; &lt;bytecode: 0x14040ebf8&gt;</span>
<span class="co">#&gt; &lt;environment: namespace:base&gt;</span></code></pre></div>
<p>But, given a function, it doesn’t make sense to find its name in R because there can be multiple names bound to the same function.</p>
<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="va">f2</span> <span class="op">&lt;-</span> <span class="va">f1</span>

<span class="fu"><a href="https://rdrr.io/r/base/match.fun.html">match.fun</a></span><span class="op">(</span><span class="st">"f1"</span><span class="op">)</span>
<span class="co">#&gt; function(x) mean(x)</span>

<span class="fu"><a href="https://rdrr.io/r/base/match.fun.html">match.fun</a></span><span class="op">(</span><span class="st">"f2"</span><span class="op">)</span>
<span class="co">#&gt; function(x) mean(x)</span></code></pre></div>
<p><strong>Q2.</strong> It’s possible (although typically not useful) to call an anonymous function. Which of the two approaches below is correct? Why?</p>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fl">3</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; function(x) 3()</span>
<span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fl">3</span><span class="op">)</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] 3</span></code></pre></div>
<p><strong>A2.</strong> This is not correct since the function will evaluate <code>3()</code>, which is syntactically not allowed since literals can’t be treated like functions.</p>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fl">3</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Error in (function(x) 3())(): attempt to apply non-function</span></code></pre></div>
<p>This is correct.</p>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fl">3</span><span class="op">)</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] 3</span></code></pre></div>
<p><strong>Q3.</strong> A good rule of thumb is that an anonymous function should fit on one line and shouldn’t need to use <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code>. Review your code. Where could you have used an anonymous function instead of a named function? Where should you have used a named function instead of an anonymous function?</p>
<p><strong>A3.</strong> Self activity.</p>
<p><strong>Q4.</strong> What function allows you to tell if an object is a function? What function allows you to tell if a function is a primitive function?</p>
<p><strong>A4.</strong> Use <code><a href="https://rdrr.io/r/base/is.function.html">is.function()</a></code> to check if an object is a function:</p>
<div class="sourceCode" id="cb102"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># these are functions</span>
<span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fl">3</span>
<span class="fu"><a href="https://rdrr.io/r/base/is.function.html">is.function</a></span><span class="op">(</span><span class="va">mean</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/is.function.html">is.function</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="co"># these aren't</span>
<span class="fu"><a href="https://rdrr.io/r/base/is.function.html">is.function</a></span><span class="op">(</span><span class="st">"x"</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="fu"><a href="https://rdrr.io/r/base/is.function.html">is.function</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/environment.html">new.env</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE</span></code></pre></div>
<p>Use <code><a href="https://rdrr.io/r/base/is.function.html">is.primitive()</a></code> to check if a function is primitive:</p>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># primitive</span>
<span class="fu"><a href="https://rdrr.io/r/base/is.function.html">is.primitive</a></span><span class="op">(</span><span class="va">sum</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="https://rdrr.io/r/base/is.function.html">is.primitive</a></span><span class="op">(</span><span class="va">`+`</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="co"># not primitive</span>
<span class="fu"><a href="https://rdrr.io/r/base/is.function.html">is.primitive</a></span><span class="op">(</span><span class="va">mean</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="fu"><a href="https://rdrr.io/r/base/is.function.html">is.primitive</a></span><span class="op">(</span><span class="va">read.csv</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE</span></code></pre></div>
<p><strong>Q5.</strong> This code makes a list of all functions in the base package.</p>
<div class="sourceCode" id="cb104"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">objs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/get.html">mget</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="st">"package:base"</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, inherits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">funs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/funprog.html">Filter</a></span><span class="op">(</span><span class="va">is.function</span>, <span class="va">objs</span><span class="op">)</span></code></pre></div>
<pre><code>Use it to answer the following questions:

a. Which base function has the most arguments?

a. How many base functions have no arguments? What's special about those
   functions?
   
a. How could you adapt the code to find all primitive functions?</code></pre>
<p><strong>A5.</strong> The provided code is the following:</p>
<div class="sourceCode" id="cb106"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">objs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/get.html">mget</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="st">"package:base"</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, inherits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">funs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/funprog.html">Filter</a></span><span class="op">(</span><span class="va">is.function</span>, <span class="va">objs</span><span class="op">)</span></code></pre></div>
<ul>
<li>Which base function has the most arguments?</li>
</ul>
<p><code><a href="https://rdrr.io/r/base/scan.html">scan()</a></code> function has the most arguments.</p>
<div class="sourceCode" id="cb107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>

<span class="va">df_formals</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map_df</a></span><span class="op">(</span><span class="va">funs</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/formals.html">formals</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span>
    cols <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html">everything</a></span><span class="op">(</span><span class="op">)</span>,
    names_to <span class="op">=</span> <span class="st">"function"</span>,
    values_to <span class="op">=</span> <span class="st">"argumentCount"</span>
  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">argumentCount</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<ul>
<li>How many base functions have no arguments? What’s special about those functions?</li>
</ul>
<p>At the time of writing, 253 base functions have no arguments. Most of these are primitive functions</p>
<div class="sourceCode" id="cb108"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">df_formals</span>, <span class="va">argumentCount</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 251 × 2</span>
<span class="co">#&gt;    `function` argumentCount</span>
<span class="co">#&gt;    &lt;chr&gt;              &lt;int&gt;</span>
<span class="co">#&gt;  1 -                      0</span>
<span class="co">#&gt;  2 :                      0</span>
<span class="co">#&gt;  3 ::                     0</span>
<span class="co">#&gt;  4 :::                    0</span>
<span class="co">#&gt;  5 !                      0</span>
<span class="co">#&gt;  6 !=                     0</span>
<span class="co">#&gt;  7 ...elt                 0</span>
<span class="co">#&gt;  8 ...length              0</span>
<span class="co">#&gt;  9 ...names               0</span>
<span class="co">#&gt; 10 .C                     0</span>
<span class="co">#&gt; # … with 241 more rows</span></code></pre></div>
<ul>
<li>How could you adapt the code to find all primitive functions?</li>
</ul>
<div class="sourceCode" id="cb109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">objs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/get.html">mget</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="st">"package:base"</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, inherits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">funs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/funprog.html">Filter</a></span><span class="op">(</span><span class="va">is.function</span>, <span class="va">objs</span><span class="op">)</span>
<span class="va">primitives</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/funprog.html">Filter</a></span><span class="op">(</span><span class="va">is.primitive</span>, <span class="va">funs</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">primitives</span><span class="op">)</span>
<span class="co">#&gt;   [1] "-"                    ":"                   </span>
<span class="co">#&gt;   [3] "::"                   ":::"                 </span>
<span class="co">#&gt;   [5] "!"                    "!="                  </span>
<span class="co">#&gt;   [7] "...elt"               "...length"           </span>
<span class="co">#&gt;   [9] "...names"             ".C"                  </span>
<span class="co">#&gt;  [11] ".cache_class"         ".Call"               </span>
<span class="co">#&gt;  [13] ".Call.graphics"       ".class2"             </span>
<span class="co">#&gt;  [15] ".External"            ".External.graphics"  </span>
<span class="co">#&gt;  [17] ".External2"           ".Fortran"            </span>
<span class="co">#&gt;  [19] ".Internal"            ".isMethodsDispatchOn"</span>
<span class="co">#&gt;  [21] ".Primitive"           ".primTrace"          </span>
<span class="co">#&gt;  [23] ".primUntrace"         ".subset"             </span>
<span class="co">#&gt;  [25] ".subset2"             "("                   </span>
<span class="co">#&gt;  [27] "["                    "[["                  </span>
<span class="co">#&gt;  [29] "[[&lt;-"                 "[&lt;-"                 </span>
<span class="co">#&gt;  [31] "{"                    "@"                   </span>
<span class="co">#&gt;  [33] "@&lt;-"                  "*"                   </span>
<span class="co">#&gt;  [35] "/"                    "&amp;"                   </span>
<span class="co">#&gt;  [37] "&amp;&amp;"                   "%*%"                 </span>
<span class="co">#&gt;  [39] "%/%"                  "%%"                  </span>
<span class="co">#&gt;  [41] "^"                    "+"                   </span>
<span class="co">#&gt;  [43] "&lt;"                    "&lt;-"                  </span>
<span class="co">#&gt;  [45] "&lt;&lt;-"                  "&lt;="                  </span>
<span class="co">#&gt;  [47] "="                    "=="                  </span>
<span class="co">#&gt;  [49] "&gt;"                    "&gt;="                  </span>
<span class="co">#&gt;  [51] "|"                    "||"                  </span>
<span class="co">#&gt;  [53] "~"                    "$"                   </span>
<span class="co">#&gt;  [55] "$&lt;-"                  "abs"                 </span>
<span class="co">#&gt;  [57] "acos"                 "acosh"               </span>
<span class="co">#&gt;  [59] "all"                  "any"                 </span>
<span class="co">#&gt;  [61] "anyNA"                "Arg"                 </span>
<span class="co">#&gt;  [63] "as.call"              "as.character"        </span>
<span class="co">#&gt;  [65] "as.complex"           "as.double"           </span>
<span class="co">#&gt;  [67] "as.environment"       "as.integer"          </span>
<span class="co">#&gt;  [69] "as.logical"           "as.numeric"          </span>
<span class="co">#&gt;  [71] "as.raw"               "asin"                </span>
<span class="co">#&gt;  [73] "asinh"                "atan"                </span>
<span class="co">#&gt;  [75] "atanh"                "attr"                </span>
<span class="co">#&gt;  [77] "attr&lt;-"               "attributes"          </span>
<span class="co">#&gt;  [79] "attributes&lt;-"         "baseenv"             </span>
<span class="co">#&gt;  [81] "break"                "browser"             </span>
<span class="co">#&gt;  [83] "c"                    "call"                </span>
<span class="co">#&gt;  [85] "ceiling"              "class"               </span>
<span class="co">#&gt;  [87] "class&lt;-"              "Conj"                </span>
<span class="co">#&gt;  [89] "cos"                  "cosh"                </span>
<span class="co">#&gt;  [91] "cospi"                "cummax"              </span>
<span class="co">#&gt;  [93] "cummin"               "cumprod"             </span>
<span class="co">#&gt;  [95] "cumsum"               "digamma"             </span>
<span class="co">#&gt;  [97] "dim"                  "dim&lt;-"               </span>
<span class="co">#&gt;  [99] "dimnames"             "dimnames&lt;-"          </span>
<span class="co">#&gt; [101] "emptyenv"             "enc2native"          </span>
<span class="co">#&gt; [103] "enc2utf8"             "environment&lt;-"       </span>
<span class="co">#&gt; [105] "exp"                  "expm1"               </span>
<span class="co">#&gt; [107] "expression"           "floor"               </span>
<span class="co">#&gt; [109] "for"                  "forceAndCall"        </span>
<span class="co">#&gt; [111] "function"             "gamma"               </span>
<span class="co">#&gt; [113] "gc.time"              "globalenv"           </span>
<span class="co">#&gt; [115] "if"                   "Im"                  </span>
<span class="co">#&gt; [117] "interactive"          "invisible"           </span>
<span class="co">#&gt; [119] "is.array"             "is.atomic"           </span>
<span class="co">#&gt; [121] "is.call"              "is.character"        </span>
<span class="co">#&gt; [123] "is.complex"           "is.double"           </span>
<span class="co">#&gt; [125] "is.environment"       "is.expression"       </span>
<span class="co">#&gt; [127] "is.finite"            "is.function"         </span>
<span class="co">#&gt; [129] "is.infinite"          "is.integer"          </span>
<span class="co">#&gt; [131] "is.language"          "is.list"             </span>
<span class="co">#&gt; [133] "is.logical"           "is.matrix"           </span>
<span class="co">#&gt; [135] "is.na"                "is.name"             </span>
<span class="co">#&gt; [137] "is.nan"               "is.null"             </span>
<span class="co">#&gt; [139] "is.numeric"           "is.object"           </span>
<span class="co">#&gt; [141] "is.pairlist"          "is.raw"              </span>
<span class="co">#&gt; [143] "is.recursive"         "is.single"           </span>
<span class="co">#&gt; [145] "is.symbol"            "isS4"                </span>
<span class="co">#&gt; [147] "lazyLoadDBfetch"      "length"              </span>
<span class="co">#&gt; [149] "length&lt;-"             "levels&lt;-"            </span>
<span class="co">#&gt; [151] "lgamma"               "list"                </span>
<span class="co">#&gt; [153] "log"                  "log10"               </span>
<span class="co">#&gt; [155] "log1p"                "log2"                </span>
<span class="co">#&gt; [157] "max"                  "min"                 </span>
<span class="co">#&gt; [159] "missing"              "Mod"                 </span>
<span class="co">#&gt; [161] "names"                "names&lt;-"             </span>
<span class="co">#&gt; [163] "nargs"                "next"                </span>
<span class="co">#&gt; [165] "nzchar"               "oldClass"            </span>
<span class="co">#&gt; [167] "oldClass&lt;-"           "on.exit"             </span>
<span class="co">#&gt; [169] "pos.to.env"           "proc.time"           </span>
<span class="co">#&gt; [171] "prod"                 "quote"               </span>
<span class="co">#&gt; [173] "range"                "Re"                  </span>
<span class="co">#&gt; [175] "rep"                  "repeat"              </span>
<span class="co">#&gt; [177] "retracemem"           "return"              </span>
<span class="co">#&gt; [179] "round"                "seq_along"           </span>
<span class="co">#&gt; [181] "seq_len"              "seq.int"             </span>
<span class="co">#&gt; [183] "sign"                 "signif"              </span>
<span class="co">#&gt; [185] "sin"                  "sinh"                </span>
<span class="co">#&gt; [187] "sinpi"                "sqrt"                </span>
<span class="co">#&gt; [189] "standardGeneric"      "storage.mode&lt;-"      </span>
<span class="co">#&gt; [191] "substitute"           "sum"                 </span>
<span class="co">#&gt; [193] "switch"               "tan"                 </span>
<span class="co">#&gt; [195] "tanh"                 "tanpi"               </span>
<span class="co">#&gt; [197] "tracemem"             "trigamma"            </span>
<span class="co">#&gt; [199] "trunc"                "unclass"             </span>
<span class="co">#&gt; [201] "untracemem"           "UseMethod"           </span>
<span class="co">#&gt; [203] "while"                "xtfrm"</span></code></pre></div>
<p><strong>Q6.</strong> What are the three important components of a function?</p>
<p><strong>A6.</strong> Except for primitive functions, all functions have 3 important components:</p>
<ul>
<li><code><a href="https://rdrr.io/r/base/formals.html">formals()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/body.html">body()</a></code></li>
<li><code><a href="https://rdrr.io/r/base/environment.html">environment()</a></code></li>
</ul>
<p><strong>Q7.</strong> When does printing a function not show the environment it was created in?</p>
<p><strong>A7.</strong> All package functions print their environment:</p>
<div class="sourceCode" id="cb110"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># base</span>
<span class="va">mean</span>
<span class="co">#&gt; function (x, ...) </span>
<span class="co">#&gt; UseMethod("mean")</span>
<span class="co">#&gt; &lt;bytecode: 0x14040ebf8&gt;</span>
<span class="co">#&gt; &lt;environment: namespace:base&gt;</span>

<span class="co"># other package function</span>
<span class="fu">purrr</span><span class="fu">::</span><span class="va"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span>
<span class="co">#&gt; function (.x, .f, ...) </span>
<span class="co">#&gt; {</span>
<span class="co">#&gt;     .f &lt;- as_mapper(.f, ...)</span>
<span class="co">#&gt;     .Call(map_impl, environment(), ".x", ".f", "list")</span>
<span class="co">#&gt; }</span>
<span class="co">#&gt; &lt;bytecode: 0x131b11f68&gt;</span>
<span class="co">#&gt; &lt;environment: namespace:purrr&gt;</span></code></pre></div>
<p>There are two exceptions to this rule:</p>
<ul>
<li>primitive functions</li>
</ul>
<div class="sourceCode" id="cb111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sum</span>
<span class="co">#&gt; function (..., na.rm = FALSE)  .Primitive("sum")</span></code></pre></div>
<ul>
<li>functions created in the global environment</li>
</ul>
<div class="sourceCode" id="cb112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="va">f</span>
<span class="co">#&gt; function(x) mean(x)</span></code></pre></div>
</div>
<div id="exercise-6.4.5" class="section level2" number="6.2">
<h2>
<span class="header-section-number">6.2</span> Exercise 6.4.5<a class="anchor" aria-label="anchor" href="#exercise-6.4.5"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Q1.</strong> What does the following code return? Why? Describe how each of the three <code>c</code>’s is interpreted.</p>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">c</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>c <span class="op">=</span> <span class="va">c</span><span class="op">)</span></code></pre></div>
<p><strong>A1.</strong> In <code>c(c = c)</code>:</p>
<ul>
<li>first <em>c</em> is interpreted as a function <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>
</li>
<li>second <em>c</em> as a name for the vector element</li>
<li>third <em>c</em> as a variable with value <code>10</code>
</li>
</ul>
<div class="sourceCode" id="cb114"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">c</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>c <span class="op">=</span> <span class="va">c</span><span class="op">)</span>
<span class="co">#&gt;  c </span>
<span class="co">#&gt; 10</span></code></pre></div>
<p><strong>Q2.</strong> What are the four principles that govern how R looks for values?</p>
<p><strong>A2.</strong> Here are the four principles:</p>
<ol style="list-style-type: decimal">
<li><p>Name masking (names defined inside a function mask names defined outside a function)</p></li>
<li><p>Functions vs. variables (the rule above also applies to function names)</p></li>
<li><p>A fresh start (every time a function is called a new environment is created to host its execution)</p></li>
<li><p>Dynamic look-up (R looks for values when the function is run, not when the function is created)</p></li>
</ol>
<p><strong>Q3.</strong> What does the following function return? Make a prediction before
running the code yourself.</p>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span>
      <span class="va">x</span><span class="op">^</span><span class="fl">2</span>
    <span class="op">}</span>
    <span class="fu">f</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>
  <span class="op">}</span>
  <span class="fu">f</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">*</span> <span class="fl">2</span>
<span class="op">}</span>
<span class="fu">f</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></code></pre></div>
<p>Correctly predicted 😉😉</p>
<div class="sourceCode" id="cb116"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span>
      <span class="va">x</span><span class="op">^</span><span class="fl">2</span>
    <span class="op">}</span>
    <span class="fu">f</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>
  <span class="op">}</span>
  <span class="fu">f</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">*</span> <span class="fl">2</span>
<span class="op">}</span>

<span class="fu">f</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; [1] 202</span></code></pre></div>
</div>
<div id="exercise-6.5.4" class="section level2" number="6.3">
<h2>
<span class="header-section-number">6.3</span> Exercise 6.5.4<a class="anchor" aria-label="anchor" href="#exercise-6.5.4"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Q1.</strong> What important property of <code>&amp;&amp;</code> makes <code>x_ok()</code> work?</p>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x_ok</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;&amp;</span> <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span>
<span class="op">}</span>

<span class="fu">x_ok</span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>
<span class="fu">x_ok</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="fu">x_ok</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></code></pre></div>
<p>What is different with this code? Why is this behaviour undesirable here?</p>
<div class="sourceCode" id="cb118"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x_ok</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span>
<span class="op">}</span>

<span class="fu">x_ok</span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>
<span class="fu">x_ok</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="fu">x_ok</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></code></pre></div>
<p><strong>A1.</strong> <code>&amp;&amp;</code> evaluates left to right and short-circuit evaluation, i.e., if the first operand is <code>TRUE</code>, R will short-circuit and not even look at the second operand.</p>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x_ok</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;&amp;</span> <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span>
<span class="op">}</span>

<span class="fu">x_ok</span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE</span>

<span class="fu">x_ok</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="fu">x_ok</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE</span></code></pre></div>
<p>Replacing <code>&amp;&amp;</code> is <code>&amp;</code> is undesirable because it performs element-wise logical comparisons and returns a vector of values that is not always useful for decision (<code>TRUE</code>, <code>FALSE</code>, or <code>NA</code>).</p>
<div class="sourceCode" id="cb120"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x_ok</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
  <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span>
<span class="op">}</span>

<span class="fu">x_ok</span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>
<span class="co">#&gt; logical(0)</span>

<span class="fu">x_ok</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="fu">x_ok</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE FALSE FALSE</span></code></pre></div>
<p><strong>Q2.</strong> What does this function return? Why? Which principle does it illustrate?</p>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span> <span class="op">=</span> <span class="va">z</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">z</span> <span class="op">&lt;-</span> <span class="fl">100</span>
  <span class="va">x</span>
<span class="op">}</span>
<span class="fu">f2</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><strong>A2.</strong> The function returns <code>100</code>, and the principle at work here is lazy evaluation. When function environment encounters <code>x</code>, it evaluates argument <code>x = z</code> and since the name <code>z</code> is already bound to value 100, <code>x</code> is also bound to the same value.</p>
<p>We can check this by looking at the memory addresses:</p>
<div class="sourceCode" id="cb122"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">f2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span> <span class="op">=</span> <span class="va">z</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">z</span> <span class="op">&lt;-</span> <span class="fl">100</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>

  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu">lobstr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lobstr/man/obj_addr.html">obj_addrs</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>

<span class="fu">f2</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] 100</span>
<span class="co">#&gt; [1] "0x1237f59e0" "0x1237f59e0"</span></code></pre></div>
<p><strong>Q3.</strong> What does this function return? Why? Which principle does it illustrate?</p>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">f1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span> <span class="op">=</span>
                 <span class="op">{</span>
                   <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">1</span>
                   <span class="fl">2</span>
                 <span class="op">}</span>,
               <span class="va">y</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>
<span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">f1</span><span class="op">(</span><span class="op">)</span>
<span class="va">y</span></code></pre></div>
<p><strong>A3.</strong> TODO:</p>
<div class="sourceCode" id="cb124"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">10</span>
<span class="va">f1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span> <span class="op">=</span>
                 <span class="op">{</span>
                   <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">1</span>
                   <span class="fl">2</span>
                 <span class="op">}</span>,
               <span class="va">y</span> <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>
<span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">f1</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] 2 1</span>
<span class="va">y</span>
<span class="co">#&gt; [1] 10</span></code></pre></div>
<p><strong>Q4.</strong> In <code><a href="https://rdrr.io/r/graphics/hist.html">hist()</a></code>, the default value of <code>xlim</code> is <code>range(breaks)</code>, the default value for <code>breaks</code> is <code>"Sturges"</code>, and</p>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="st">"Sturges"</span><span class="op">)</span>
<span class="co">#&gt; [1] "Sturges" "Sturges"</span></code></pre></div>
<p>Explain how <code><a href="https://rdrr.io/r/graphics/hist.html">hist()</a></code> works to get a correct <code>xlim</code> value.</p>
<p><strong>Q5.</strong> Explain why this function works. Why is it confusing?</p>
<div class="sourceCode" id="cb126"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">show_time</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span> <span class="op">=</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"Error!"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">stop</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">show_time</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "2022-03-29 17:56:02 CEST"</span></code></pre></div>
<p><strong>Q6.</strong> How many arguments are required when calling <code><a href="https://rdrr.io/r/base/library.html">library()</a></code>?</p>
</div>
<div id="exercise-6.6.1" class="section level2" number="6.4">
<h2>
<span class="header-section-number">6.4</span> Exercise 6.6.1<a class="anchor" aria-label="anchor" href="#exercise-6.6.1"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Q1.</strong> Explain the following results:</p>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] 6</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; [1] 1</span>

<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, na.omit <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] 7</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, na.omit <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] 1</span></code></pre></div>
<p><strong>A1.</strong> Let’s look at arguments for these functions:</p>
<div class="sourceCode" id="cb128"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">sum</span><span class="op">)</span>
<span class="co">#&gt; function (..., na.rm = FALSE)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">mean</span><span class="op">)</span>
<span class="co">#&gt; function (x, ...)</span></code></pre></div>
<p>As can be seen, <code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code> function doesn’t have <code>na.omit</code> argument. So, the input <code>na.omit = TRUE</code> is treated as <code>1</code> (logical implicitly coerced to numeric), and thus the results. So, the expression evaluates to <code>sum(1, 2, 3, 1)</code>.</p>
<p>For <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> function, there is only one parameter (<code>x</code>) and it’s matched by the first argument (<code>1</code>). So, the expression evaluates to <code>mean(1)</code>.</p>
<p><strong>Q2.</strong> Explain how to find the documentation for the named arguments in the following function call:</p>
<pre><code>```r
plot(1:10, col = "red", pch = 20, xlab = "x", col.lab = "blue")
```

&lt;img src="Functions_files/figure-html/unnamed-chunk-33-1.png" width="288" /&gt;</code></pre>
<p><strong>A2.</strong> First, check documentation for <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code>:</p>
<div class="sourceCode" id="cb130"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">plot</span><span class="op">)</span>
<span class="co">#&gt; function (x, y, ...)</span></code></pre></div>
<p>Since <code>...</code> are passed to <code><a href="https://rdrr.io/r/graphics/par.html">par()</a></code>, we can look at its documentation:</p>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">par</span><span class="op">)</span>
<span class="co">#&gt; function (..., no.readonly = FALSE)</span></code></pre></div>
<p>The docs for all parameters of interest <a href="https://rdrr.io/r/graphics/par.html">reside there</a>.</p>
<p><strong>Q3.</strong> Why does <code>plot(1:10, col = "red")</code> only colour the points, not the axes or labels? Read the source code of <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot.default()</a></code> to find out.</p>
<p><strong>A3.</strong> Source code can be found <a href="https://github.com/wch/r-source/blob/79e73dba5259b25ec30118d45fea64aeac0f41dc/src/library/graphics/R/plot.R#L51-L84">here</a>.</p>
<p><code><a href="https://rdrr.io/r/graphics/plot.default.html">plot.default()</a></code> passes <code>...</code> to <code>localTitle()</code>, which passes it to <code><a href="https://rdrr.io/r/graphics/title.html">title()</a></code>.</p>
<p><code><a href="https://rdrr.io/r/graphics/title.html">title()</a></code> has four parts: <code>main</code>, <code>sub</code>, <code>xlab</code>, <code>ylab</code>.</p>
<p>So having a single argument <code>col</code> would not work as it will be ambiguous as to which element to apply this argument to.</p>
<div class="sourceCode" id="cb132"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">localTitle</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span>, <span class="va">col</span>, <span class="va">bg</span>, <span class="va">pch</span>, <span class="va">cex</span>, <span class="va">lty</span>, <span class="va">lwd</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/graphics/title.html">title</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span>

<span class="va">title</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">main</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">sub</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">xlab</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">ylab</span> <span class="op">=</span> <span class="cn">NULL</span>,
                  <span class="va">line</span> <span class="op">=</span> <span class="cn">NA</span>, <span class="va">outer</span> <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">main</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/as.graphicsAnnot.html">as.graphicsAnnot</a></span><span class="op">(</span><span class="va">main</span><span class="op">)</span>
  <span class="va">sub</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/as.graphicsAnnot.html">as.graphicsAnnot</a></span><span class="op">(</span><span class="va">sub</span><span class="op">)</span>
  <span class="va">xlab</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/as.graphicsAnnot.html">as.graphicsAnnot</a></span><span class="op">(</span><span class="va">xlab</span><span class="op">)</span>
  <span class="va">ylab</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/as.graphicsAnnot.html">as.graphicsAnnot</a></span><span class="op">(</span><span class="va">ylab</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/Foreign-internal.html">.External.graphics</a></span><span class="op">(</span><span class="va">C_title</span>, <span class="va">main</span>, <span class="va">sub</span>, <span class="va">xlab</span>, <span class="va">ylab</span>, <span class="va">line</span>, <span class="va">outer</span>, <span class="va">...</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/invisible.html">invisible</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="control-flow.html"><span class="header-section-number">5</span> Control flow</a></div>
<div class="next"><a href="environments.html"><span class="header-section-number">7</span> Environments</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#functions"><span class="header-section-number">6</span> Functions</a></li>
<li><a class="nav-link" href="#exercise-6.2.5"><span class="header-section-number">6.1</span> Exercise 6.2.5</a></li>
<li><a class="nav-link" href="#exercise-6.4.5"><span class="header-section-number">6.2</span> Exercise 6.4.5</a></li>
<li><a class="nav-link" href="#exercise-6.5.4"><span class="header-section-number">6.3</span> Exercise 6.5.4</a></li>
<li><a class="nav-link" href="#exercise-6.6.1"><span class="header-section-number">6.4</span> Exercise 6.6.1</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/IndrajeetPatil/Advanced-R-exercises/blob/master/Functions.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/IndrajeetPatil/Advanced-R-exercises/edit/master/Functions.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Advanced R Exercises</strong>" was written by Indrajeet Patil. It was last built on 2022-03-29.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
