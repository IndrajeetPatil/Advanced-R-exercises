<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Chapter 6 Functions | Advanced R Exercises</title>

    <meta name="author" content="Indrajeet Patil" />
  
   <meta name="description" content="My solutions to exercises in Hadley Wickham’s Advanced R (2nd edition) book." />
   <meta name="generator" content="placeholder" />
  <meta property="og:title" content="Chapter 6 Functions | Advanced R Exercises" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="/cover.png" />
  <meta property="og:description" content="My solutions to exercises in Hadley Wickham’s Advanced R (2nd edition) book." />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Functions | Advanced R Exercises" />
  
  <meta name="twitter:description" content="My solutions to exercises in Hadley Wickham’s Advanced R (2nd edition) book." />
  <meta name="twitter:image" content="/cover.png" />
  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script>
    <script src="libs/bs3compat-0.3.1/transition.js"></script>
    <script src="libs/bs3compat-0.3.1/tabs.js"></script>
    <script src="libs/bs3compat-0.3.1/bs3compat.js"></script>
    <link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet" />
    <script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script>

  <!-- CSS -->
  <style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
      <link rel="stylesheet" href="bs4_style.css" />
  
</head>

<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book">
    <a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Advanced R Exercises</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>

      <nav aria-label="Table of contents">
        <h2>Table of contents</h2>
        <div id="book-toc"></div>

        <div class="book-extra">
          <p><a id="book-repo" href="#">View book source <i class="fab fa-github"></i></a></li></p>
        </div>
      </nav>
    </div>
  </header>

  <main class="col-sm-12 col-md-9 col-lg-7" id="content">
<div id="functions" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Functions</h1>
<p>Attaching the needed libraries:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="functions.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div id="exercises-6.2.5" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Exercises 6.2.5</h2>
<p><strong>Q1.</strong> Given a name, like <code>"mean"</code>, <code>match.fun()</code> lets you find a function. Given a function, can you find its name? Why doesn’t that make sense in R?</p>
<p><strong>A1.</strong> Given a name, <code>match.fun()</code> lets you find a function.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="functions.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">match.fun</span>(<span class="st">&quot;mean&quot;</span>)</span>
<span id="cb2-2"><a href="functions.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (x, ...) </span></span>
<span id="cb2-3"><a href="functions.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; UseMethod(&quot;mean&quot;)</span></span>
<span id="cb2-4"><a href="functions.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;bytecode: 0x132c0f440&gt;</span></span>
<span id="cb2-5"><a href="functions.html#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></span></code></pre></div>
<p>But, given a function, it doesn’t make sense to find its name because there can be multiple names bound to the same function.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="functions.html#cb3-1" aria-hidden="true" tabindex="-1"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">mean</span>(x)</span>
<span id="cb3-2"><a href="functions.html#cb3-2" aria-hidden="true" tabindex="-1"></a>f2 <span class="ot">&lt;-</span> f1</span>
<span id="cb3-3"><a href="functions.html#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="functions.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">match.fun</span>(<span class="st">&quot;f1&quot;</span>)</span>
<span id="cb3-5"><a href="functions.html#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function(x) mean(x)</span></span>
<span id="cb3-6"><a href="functions.html#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="functions.html#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">match.fun</span>(<span class="st">&quot;f2&quot;</span>)</span>
<span id="cb3-8"><a href="functions.html#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function(x) mean(x)</span></span></code></pre></div>
<p><strong>Q2.</strong> It’s possible (although typically not useful) to call an anonymous function. Which of the two approaches below is correct? Why?</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="functions.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span>(x) <span class="dv">3</span>()</span>
<span id="cb4-2"><a href="functions.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function(x) 3()</span></span>
<span id="cb4-3"><a href="functions.html#cb4-3" aria-hidden="true" tabindex="-1"></a>(<span class="cf">function</span>(x) <span class="dv">3</span>)()</span>
<span id="cb4-4"><a href="functions.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3</span></span></code></pre></div>
<p><strong>A2.</strong> This is not correct since the function will evaluate <code>3()</code>, which is syntactically not allowed since literals can’t be treated like functions.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="functions.html#cb5-1" aria-hidden="true" tabindex="-1"></a>(<span class="cf">function</span>(x) <span class="dv">3</span>())()</span>
<span id="cb5-2"><a href="functions.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error in (function(x) 3())(): attempt to apply non-function</span></span></code></pre></div>
<p>This is correct.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="functions.html#cb6-1" aria-hidden="true" tabindex="-1"></a>(<span class="cf">function</span>(x) <span class="dv">3</span>)()</span>
<span id="cb6-2"><a href="functions.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3</span></span></code></pre></div>
<p><strong>Q3.</strong> A good rule of thumb is that an anonymous function should fit on one line and shouldn’t need to use <code>{}</code>. Review your code. Where could you have used an anonymous function instead of a named function? Where should you have used a named function instead of an anonymous function?</p>
<p><strong>A3.</strong> Self activity.</p>
<p><strong>Q4.</strong> What function allows you to tell if an object is a function? What function allows you to tell if a function is a primitive function?</p>
<p><strong>A4.</strong> Use <code>is.function()</code> to check if an object is a function:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="functions.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># these are functions</span></span>
<span id="cb7-2"><a href="functions.html#cb7-2" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="dv">3</span></span>
<span id="cb7-3"><a href="functions.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.function</span>(mean)</span>
<span id="cb7-4"><a href="functions.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb7-5"><a href="functions.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">is.function</span>(f)</span>
<span id="cb7-6"><a href="functions.html#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb7-7"><a href="functions.html#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="functions.html#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co"># these aren&#39;t</span></span>
<span id="cb7-9"><a href="functions.html#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">is.function</span>(<span class="st">&quot;x&quot;</span>)</span>
<span id="cb7-10"><a href="functions.html#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb7-11"><a href="functions.html#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="fu">is.function</span>(<span class="fu">new.env</span>())</span>
<span id="cb7-12"><a href="functions.html#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>Use <code>is.primitive()</code> to check if a function is primitive:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="functions.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># primitive</span></span>
<span id="cb8-2"><a href="functions.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.primitive</span>(sum)</span>
<span id="cb8-3"><a href="functions.html#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb8-4"><a href="functions.html#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">is.primitive</span>(<span class="st">`</span><span class="at">+</span><span class="st">`</span>)</span>
<span id="cb8-5"><a href="functions.html#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb8-6"><a href="functions.html#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="functions.html#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># not primitive</span></span>
<span id="cb8-8"><a href="functions.html#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="fu">is.primitive</span>(mean)</span>
<span id="cb8-9"><a href="functions.html#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb8-10"><a href="functions.html#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="fu">is.primitive</span>(read.csv)</span>
<span id="cb8-11"><a href="functions.html#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p><strong>Q5.</strong> This code makes a list of all functions in the base package.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="functions.html#cb9-1" aria-hidden="true" tabindex="-1"></a>objs <span class="ot">&lt;-</span> <span class="fu">mget</span>(<span class="fu">ls</span>(<span class="st">&quot;package:base&quot;</span>, <span class="at">all =</span> <span class="cn">TRUE</span>), <span class="at">inherits =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-2"><a href="functions.html#cb9-2" aria-hidden="true" tabindex="-1"></a>funs <span class="ot">&lt;-</span> <span class="fu">Filter</span>(is.function, objs)</span></code></pre></div>
<p>Use it to answer the following questions:</p>
<ol style="list-style-type: lower-alpha">
<li><p>Which base function has the most arguments?</p></li>
<li><p>How many base functions have no arguments? What’s special about those functions?</p></li>
<li><p>How could you adapt the code to find all primitive functions?</p></li>
</ol>
<p><strong>A5.</strong> The provided code is the following:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="functions.html#cb10-1" aria-hidden="true" tabindex="-1"></a>objs <span class="ot">&lt;-</span> <span class="fu">mget</span>(<span class="fu">ls</span>(<span class="st">&quot;package:base&quot;</span>, <span class="at">all =</span> <span class="cn">TRUE</span>), <span class="at">inherits =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-2"><a href="functions.html#cb10-2" aria-hidden="true" tabindex="-1"></a>funs <span class="ot">&lt;-</span> <span class="fu">Filter</span>(is.function, objs)</span></code></pre></div>
<ol style="list-style-type: lower-alpha">
<li>Which base function has the most arguments?</li>
</ol>
<p><code>scan()</code> function has the most arguments.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="functions.html#cb11-1" aria-hidden="true" tabindex="-1"></a>df_formals <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map_df</span>(funs, <span class="sc">~</span> <span class="fu">length</span>(<span class="fu">formals</span>(.))) <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="functions.html#cb11-2" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb11-3"><a href="functions.html#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> dplyr<span class="sc">::</span><span class="fu">everything</span>(),</span>
<span id="cb11-4"><a href="functions.html#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;function&quot;</span>,</span>
<span id="cb11-5"><a href="functions.html#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;argumentCount&quot;</span></span>
<span id="cb11-6"><a href="functions.html#cb11-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="functions.html#cb11-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(argumentCount))</span></code></pre></div>
<ol start="2" style="list-style-type: lower-alpha">
<li>How many base functions have no arguments? What’s special about those functions?</li>
</ol>
<p>At the time of writing, 253 base functions have no arguments. Most of these are primitive functions</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="functions.html#cb12-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">filter</span>(df_formals, argumentCount <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb12-2"><a href="functions.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 251 × 2</span></span>
<span id="cb12-3"><a href="functions.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    `function` argumentCount</span></span>
<span id="cb12-4"><a href="functions.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;              &lt;int&gt;</span></span>
<span id="cb12-5"><a href="functions.html#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 -                      0</span></span>
<span id="cb12-6"><a href="functions.html#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 :                      0</span></span>
<span id="cb12-7"><a href="functions.html#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 ::                     0</span></span>
<span id="cb12-8"><a href="functions.html#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 :::                    0</span></span>
<span id="cb12-9"><a href="functions.html#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 !                      0</span></span>
<span id="cb12-10"><a href="functions.html#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 !=                     0</span></span>
<span id="cb12-11"><a href="functions.html#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 ...elt                 0</span></span>
<span id="cb12-12"><a href="functions.html#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 ...length              0</span></span>
<span id="cb12-13"><a href="functions.html#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 ...names               0</span></span>
<span id="cb12-14"><a href="functions.html#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 .C                     0</span></span>
<span id="cb12-15"><a href="functions.html#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 241 more rows</span></span></code></pre></div>
<ol start="3" style="list-style-type: lower-alpha">
<li>How could you adapt the code to find all primitive functions?</li>
</ol>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="functions.html#cb13-1" aria-hidden="true" tabindex="-1"></a>objs <span class="ot">&lt;-</span> <span class="fu">mget</span>(<span class="fu">ls</span>(<span class="st">&quot;package:base&quot;</span>, <span class="at">all =</span> <span class="cn">TRUE</span>), <span class="at">inherits =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-2"><a href="functions.html#cb13-2" aria-hidden="true" tabindex="-1"></a>funs <span class="ot">&lt;-</span> <span class="fu">Filter</span>(is.function, objs)</span>
<span id="cb13-3"><a href="functions.html#cb13-3" aria-hidden="true" tabindex="-1"></a>primitives <span class="ot">&lt;-</span> <span class="fu">Filter</span>(is.primitive, funs)</span>
<span id="cb13-4"><a href="functions.html#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="functions.html#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(primitives)</span>
<span id="cb13-6"><a href="functions.html#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1] &quot;-&quot;                    &quot;:&quot;                   </span></span>
<span id="cb13-7"><a href="functions.html#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [3] &quot;::&quot;                   &quot;:::&quot;                 </span></span>
<span id="cb13-8"><a href="functions.html#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [5] &quot;!&quot;                    &quot;!=&quot;                  </span></span>
<span id="cb13-9"><a href="functions.html#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [7] &quot;...elt&quot;               &quot;...length&quot;           </span></span>
<span id="cb13-10"><a href="functions.html#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [9] &quot;...names&quot;             &quot;.C&quot;                  </span></span>
<span id="cb13-11"><a href="functions.html#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [11] &quot;.cache_class&quot;         &quot;.Call&quot;               </span></span>
<span id="cb13-12"><a href="functions.html#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [13] &quot;.Call.graphics&quot;       &quot;.class2&quot;             </span></span>
<span id="cb13-13"><a href="functions.html#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [15] &quot;.External&quot;            &quot;.External.graphics&quot;  </span></span>
<span id="cb13-14"><a href="functions.html#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [17] &quot;.External2&quot;           &quot;.Fortran&quot;            </span></span>
<span id="cb13-15"><a href="functions.html#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [19] &quot;.Internal&quot;            &quot;.isMethodsDispatchOn&quot;</span></span>
<span id="cb13-16"><a href="functions.html#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [21] &quot;.Primitive&quot;           &quot;.primTrace&quot;          </span></span>
<span id="cb13-17"><a href="functions.html#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [23] &quot;.primUntrace&quot;         &quot;.subset&quot;             </span></span>
<span id="cb13-18"><a href="functions.html#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [25] &quot;.subset2&quot;             &quot;(&quot;                   </span></span>
<span id="cb13-19"><a href="functions.html#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [27] &quot;[&quot;                    &quot;[[&quot;                  </span></span>
<span id="cb13-20"><a href="functions.html#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [29] &quot;[[&lt;-&quot;                 &quot;[&lt;-&quot;                 </span></span>
<span id="cb13-21"><a href="functions.html#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [31] &quot;{&quot;                    &quot;@&quot;                   </span></span>
<span id="cb13-22"><a href="functions.html#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [33] &quot;@&lt;-&quot;                  &quot;*&quot;                   </span></span>
<span id="cb13-23"><a href="functions.html#cb13-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [35] &quot;/&quot;                    &quot;&amp;&quot;                   </span></span>
<span id="cb13-24"><a href="functions.html#cb13-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [37] &quot;&amp;&amp;&quot;                   &quot;%*%&quot;                 </span></span>
<span id="cb13-25"><a href="functions.html#cb13-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [39] &quot;%/%&quot;                  &quot;%%&quot;                  </span></span>
<span id="cb13-26"><a href="functions.html#cb13-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [41] &quot;^&quot;                    &quot;+&quot;                   </span></span>
<span id="cb13-27"><a href="functions.html#cb13-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [43] &quot;&lt;&quot;                    &quot;&lt;-&quot;                  </span></span>
<span id="cb13-28"><a href="functions.html#cb13-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [45] &quot;&lt;&lt;-&quot;                  &quot;&lt;=&quot;                  </span></span>
<span id="cb13-29"><a href="functions.html#cb13-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [47] &quot;=&quot;                    &quot;==&quot;                  </span></span>
<span id="cb13-30"><a href="functions.html#cb13-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [49] &quot;&gt;&quot;                    &quot;&gt;=&quot;                  </span></span>
<span id="cb13-31"><a href="functions.html#cb13-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [51] &quot;|&quot;                    &quot;||&quot;                  </span></span>
<span id="cb13-32"><a href="functions.html#cb13-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [53] &quot;~&quot;                    &quot;$&quot;                   </span></span>
<span id="cb13-33"><a href="functions.html#cb13-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [55] &quot;$&lt;-&quot;                  &quot;abs&quot;                 </span></span>
<span id="cb13-34"><a href="functions.html#cb13-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [57] &quot;acos&quot;                 &quot;acosh&quot;               </span></span>
<span id="cb13-35"><a href="functions.html#cb13-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [59] &quot;all&quot;                  &quot;any&quot;                 </span></span>
<span id="cb13-36"><a href="functions.html#cb13-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [61] &quot;anyNA&quot;                &quot;Arg&quot;                 </span></span>
<span id="cb13-37"><a href="functions.html#cb13-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [63] &quot;as.call&quot;              &quot;as.character&quot;        </span></span>
<span id="cb13-38"><a href="functions.html#cb13-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [65] &quot;as.complex&quot;           &quot;as.double&quot;           </span></span>
<span id="cb13-39"><a href="functions.html#cb13-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [67] &quot;as.environment&quot;       &quot;as.integer&quot;          </span></span>
<span id="cb13-40"><a href="functions.html#cb13-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [69] &quot;as.logical&quot;           &quot;as.numeric&quot;          </span></span>
<span id="cb13-41"><a href="functions.html#cb13-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [71] &quot;as.raw&quot;               &quot;asin&quot;                </span></span>
<span id="cb13-42"><a href="functions.html#cb13-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [73] &quot;asinh&quot;                &quot;atan&quot;                </span></span>
<span id="cb13-43"><a href="functions.html#cb13-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [75] &quot;atanh&quot;                &quot;attr&quot;                </span></span>
<span id="cb13-44"><a href="functions.html#cb13-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [77] &quot;attr&lt;-&quot;               &quot;attributes&quot;          </span></span>
<span id="cb13-45"><a href="functions.html#cb13-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [79] &quot;attributes&lt;-&quot;         &quot;baseenv&quot;             </span></span>
<span id="cb13-46"><a href="functions.html#cb13-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [81] &quot;break&quot;                &quot;browser&quot;             </span></span>
<span id="cb13-47"><a href="functions.html#cb13-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [83] &quot;c&quot;                    &quot;call&quot;                </span></span>
<span id="cb13-48"><a href="functions.html#cb13-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [85] &quot;ceiling&quot;              &quot;class&quot;               </span></span>
<span id="cb13-49"><a href="functions.html#cb13-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [87] &quot;class&lt;-&quot;              &quot;Conj&quot;                </span></span>
<span id="cb13-50"><a href="functions.html#cb13-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [89] &quot;cos&quot;                  &quot;cosh&quot;                </span></span>
<span id="cb13-51"><a href="functions.html#cb13-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [91] &quot;cospi&quot;                &quot;cummax&quot;              </span></span>
<span id="cb13-52"><a href="functions.html#cb13-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [93] &quot;cummin&quot;               &quot;cumprod&quot;             </span></span>
<span id="cb13-53"><a href="functions.html#cb13-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [95] &quot;cumsum&quot;               &quot;digamma&quot;             </span></span>
<span id="cb13-54"><a href="functions.html#cb13-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [97] &quot;dim&quot;                  &quot;dim&lt;-&quot;               </span></span>
<span id="cb13-55"><a href="functions.html#cb13-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [99] &quot;dimnames&quot;             &quot;dimnames&lt;-&quot;          </span></span>
<span id="cb13-56"><a href="functions.html#cb13-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [101] &quot;emptyenv&quot;             &quot;enc2native&quot;          </span></span>
<span id="cb13-57"><a href="functions.html#cb13-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [103] &quot;enc2utf8&quot;             &quot;environment&lt;-&quot;       </span></span>
<span id="cb13-58"><a href="functions.html#cb13-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [105] &quot;exp&quot;                  &quot;expm1&quot;               </span></span>
<span id="cb13-59"><a href="functions.html#cb13-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [107] &quot;expression&quot;           &quot;floor&quot;               </span></span>
<span id="cb13-60"><a href="functions.html#cb13-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [109] &quot;for&quot;                  &quot;forceAndCall&quot;        </span></span>
<span id="cb13-61"><a href="functions.html#cb13-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [111] &quot;function&quot;             &quot;gamma&quot;               </span></span>
<span id="cb13-62"><a href="functions.html#cb13-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [113] &quot;gc.time&quot;              &quot;globalenv&quot;           </span></span>
<span id="cb13-63"><a href="functions.html#cb13-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [115] &quot;if&quot;                   &quot;Im&quot;                  </span></span>
<span id="cb13-64"><a href="functions.html#cb13-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [117] &quot;interactive&quot;          &quot;invisible&quot;           </span></span>
<span id="cb13-65"><a href="functions.html#cb13-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [119] &quot;is.array&quot;             &quot;is.atomic&quot;           </span></span>
<span id="cb13-66"><a href="functions.html#cb13-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [121] &quot;is.call&quot;              &quot;is.character&quot;        </span></span>
<span id="cb13-67"><a href="functions.html#cb13-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [123] &quot;is.complex&quot;           &quot;is.double&quot;           </span></span>
<span id="cb13-68"><a href="functions.html#cb13-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [125] &quot;is.environment&quot;       &quot;is.expression&quot;       </span></span>
<span id="cb13-69"><a href="functions.html#cb13-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [127] &quot;is.finite&quot;            &quot;is.function&quot;         </span></span>
<span id="cb13-70"><a href="functions.html#cb13-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [129] &quot;is.infinite&quot;          &quot;is.integer&quot;          </span></span>
<span id="cb13-71"><a href="functions.html#cb13-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [131] &quot;is.language&quot;          &quot;is.list&quot;             </span></span>
<span id="cb13-72"><a href="functions.html#cb13-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [133] &quot;is.logical&quot;           &quot;is.matrix&quot;           </span></span>
<span id="cb13-73"><a href="functions.html#cb13-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [135] &quot;is.na&quot;                &quot;is.name&quot;             </span></span>
<span id="cb13-74"><a href="functions.html#cb13-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [137] &quot;is.nan&quot;               &quot;is.null&quot;             </span></span>
<span id="cb13-75"><a href="functions.html#cb13-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [139] &quot;is.numeric&quot;           &quot;is.object&quot;           </span></span>
<span id="cb13-76"><a href="functions.html#cb13-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [141] &quot;is.pairlist&quot;          &quot;is.raw&quot;              </span></span>
<span id="cb13-77"><a href="functions.html#cb13-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [143] &quot;is.recursive&quot;         &quot;is.single&quot;           </span></span>
<span id="cb13-78"><a href="functions.html#cb13-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [145] &quot;is.symbol&quot;            &quot;isS4&quot;                </span></span>
<span id="cb13-79"><a href="functions.html#cb13-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [147] &quot;lazyLoadDBfetch&quot;      &quot;length&quot;              </span></span>
<span id="cb13-80"><a href="functions.html#cb13-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [149] &quot;length&lt;-&quot;             &quot;levels&lt;-&quot;            </span></span>
<span id="cb13-81"><a href="functions.html#cb13-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [151] &quot;lgamma&quot;               &quot;list&quot;                </span></span>
<span id="cb13-82"><a href="functions.html#cb13-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [153] &quot;log&quot;                  &quot;log10&quot;               </span></span>
<span id="cb13-83"><a href="functions.html#cb13-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [155] &quot;log1p&quot;                &quot;log2&quot;                </span></span>
<span id="cb13-84"><a href="functions.html#cb13-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [157] &quot;max&quot;                  &quot;min&quot;                 </span></span>
<span id="cb13-85"><a href="functions.html#cb13-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [159] &quot;missing&quot;              &quot;Mod&quot;                 </span></span>
<span id="cb13-86"><a href="functions.html#cb13-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [161] &quot;names&quot;                &quot;names&lt;-&quot;             </span></span>
<span id="cb13-87"><a href="functions.html#cb13-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [163] &quot;nargs&quot;                &quot;next&quot;                </span></span>
<span id="cb13-88"><a href="functions.html#cb13-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [165] &quot;nzchar&quot;               &quot;oldClass&quot;            </span></span>
<span id="cb13-89"><a href="functions.html#cb13-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [167] &quot;oldClass&lt;-&quot;           &quot;on.exit&quot;             </span></span>
<span id="cb13-90"><a href="functions.html#cb13-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [169] &quot;pos.to.env&quot;           &quot;proc.time&quot;           </span></span>
<span id="cb13-91"><a href="functions.html#cb13-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [171] &quot;prod&quot;                 &quot;quote&quot;               </span></span>
<span id="cb13-92"><a href="functions.html#cb13-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [173] &quot;range&quot;                &quot;Re&quot;                  </span></span>
<span id="cb13-93"><a href="functions.html#cb13-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [175] &quot;rep&quot;                  &quot;repeat&quot;              </span></span>
<span id="cb13-94"><a href="functions.html#cb13-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [177] &quot;retracemem&quot;           &quot;return&quot;              </span></span>
<span id="cb13-95"><a href="functions.html#cb13-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [179] &quot;round&quot;                &quot;seq_along&quot;           </span></span>
<span id="cb13-96"><a href="functions.html#cb13-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [181] &quot;seq_len&quot;              &quot;seq.int&quot;             </span></span>
<span id="cb13-97"><a href="functions.html#cb13-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [183] &quot;sign&quot;                 &quot;signif&quot;              </span></span>
<span id="cb13-98"><a href="functions.html#cb13-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [185] &quot;sin&quot;                  &quot;sinh&quot;                </span></span>
<span id="cb13-99"><a href="functions.html#cb13-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [187] &quot;sinpi&quot;                &quot;sqrt&quot;                </span></span>
<span id="cb13-100"><a href="functions.html#cb13-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [189] &quot;standardGeneric&quot;      &quot;storage.mode&lt;-&quot;      </span></span>
<span id="cb13-101"><a href="functions.html#cb13-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [191] &quot;substitute&quot;           &quot;sum&quot;                 </span></span>
<span id="cb13-102"><a href="functions.html#cb13-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [193] &quot;switch&quot;               &quot;tan&quot;                 </span></span>
<span id="cb13-103"><a href="functions.html#cb13-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [195] &quot;tanh&quot;                 &quot;tanpi&quot;               </span></span>
<span id="cb13-104"><a href="functions.html#cb13-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [197] &quot;tracemem&quot;             &quot;trigamma&quot;            </span></span>
<span id="cb13-105"><a href="functions.html#cb13-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [199] &quot;trunc&quot;                &quot;unclass&quot;             </span></span>
<span id="cb13-106"><a href="functions.html#cb13-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [201] &quot;untracemem&quot;           &quot;UseMethod&quot;           </span></span>
<span id="cb13-107"><a href="functions.html#cb13-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [203] &quot;while&quot;                &quot;xtfrm&quot;</span></span></code></pre></div>
<p><strong>Q6.</strong> What are the three important components of a function?</p>
<p><strong>A6.</strong> Except for primitive functions, all functions have 3 important components:</p>
<ul>
<li><code>formals()</code></li>
<li><code>body()</code></li>
<li><code>environment()</code></li>
</ul>
<p><strong>Q7.</strong> When does printing a function not show the environment it was created in?</p>
<p><strong>A7.</strong> All package functions print their environment:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="functions.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># base</span></span>
<span id="cb14-2"><a href="functions.html#cb14-2" aria-hidden="true" tabindex="-1"></a>mean</span>
<span id="cb14-3"><a href="functions.html#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (x, ...) </span></span>
<span id="cb14-4"><a href="functions.html#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; UseMethod(&quot;mean&quot;)</span></span>
<span id="cb14-5"><a href="functions.html#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;bytecode: 0x132c0f440&gt;</span></span>
<span id="cb14-6"><a href="functions.html#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></span>
<span id="cb14-7"><a href="functions.html#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="functions.html#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># other package function</span></span>
<span id="cb14-9"><a href="functions.html#cb14-9" aria-hidden="true" tabindex="-1"></a>purrr<span class="sc">::</span>map</span>
<span id="cb14-10"><a href="functions.html#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (.x, .f, ...) </span></span>
<span id="cb14-11"><a href="functions.html#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; {</span></span>
<span id="cb14-12"><a href="functions.html#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     .f &lt;- as_mapper(.f, ...)</span></span>
<span id="cb14-13"><a href="functions.html#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     .Call(map_impl, environment(), &quot;.x&quot;, &quot;.f&quot;, &quot;list&quot;)</span></span>
<span id="cb14-14"><a href="functions.html#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; }</span></span>
<span id="cb14-15"><a href="functions.html#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;bytecode: 0x1168824a8&gt;</span></span>
<span id="cb14-16"><a href="functions.html#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;environment: namespace:purrr&gt;</span></span></code></pre></div>
<p>There are two exceptions to this rule:</p>
<ul>
<li>primitive functions</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="functions.html#cb15-1" aria-hidden="true" tabindex="-1"></a>sum</span>
<span id="cb15-2"><a href="functions.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (..., na.rm = FALSE)  .Primitive(&quot;sum&quot;)</span></span></code></pre></div>
<ul>
<li>functions created in the global environment</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="functions.html#cb16-1" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">mean</span>(x)</span>
<span id="cb16-2"><a href="functions.html#cb16-2" aria-hidden="true" tabindex="-1"></a>f</span>
<span id="cb16-3"><a href="functions.html#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function(x) mean(x)</span></span></code></pre></div>
</div>
<div id="exercises-6.4.5" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Exercises 6.4.5</h2>
<p><strong>Q1.</strong> What does the following code return? Why? Describe how each of the three <code>c</code>’s is interpreted.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="functions.html#cb17-1" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb17-2"><a href="functions.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="at">c =</span> c)</span></code></pre></div>
<p><strong>A1.</strong> In <code>c(c = c)</code>:</p>
<ul>
<li>first <em>c</em> is interpreted as a function <code>c()</code></li>
<li>second <em>c</em> as a name for the vector element</li>
<li>third <em>c</em> as a variable with value <code>10</code></li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="functions.html#cb18-1" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb18-2"><a href="functions.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="at">c =</span> c)</span>
<span id="cb18-3"><a href="functions.html#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  c </span></span>
<span id="cb18-4"><a href="functions.html#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10</span></span></code></pre></div>
<p><strong>Q2.</strong> What are the four principles that govern how R looks for values?</p>
<p><strong>A2.</strong> Here are the four principles:</p>
<ol style="list-style-type: decimal">
<li><p>Name masking (names defined inside a function mask names defined outside a function)</p></li>
<li><p>Functions vs. variables (the rule above also applies to function names)</p></li>
<li><p>A fresh start (every time a function is called a new environment is created to host its execution)</p></li>
<li><p>Dynamic look-up (R looks for values when the function is run, not when the function is created)</p></li>
</ol>
<p><strong>Q3.</strong> What does the following function return? Make a prediction before
running the code yourself.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="functions.html#cb19-1" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb19-2"><a href="functions.html#cb19-2" aria-hidden="true" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb19-3"><a href="functions.html#cb19-3" aria-hidden="true" tabindex="-1"></a>    f <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb19-4"><a href="functions.html#cb19-4" aria-hidden="true" tabindex="-1"></a>      x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb19-5"><a href="functions.html#cb19-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb19-6"><a href="functions.html#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">f</span>() <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb19-7"><a href="functions.html#cb19-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb19-8"><a href="functions.html#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">f</span>(x) <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb19-9"><a href="functions.html#cb19-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-10"><a href="functions.html#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="dv">10</span>)</span></code></pre></div>
<p>Correctly predicted 😉😉</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="functions.html#cb20-1" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb20-2"><a href="functions.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb20-3"><a href="functions.html#cb20-3" aria-hidden="true" tabindex="-1"></a>    f <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb20-4"><a href="functions.html#cb20-4" aria-hidden="true" tabindex="-1"></a>      x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb20-5"><a href="functions.html#cb20-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb20-6"><a href="functions.html#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">f</span>() <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb20-7"><a href="functions.html#cb20-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-8"><a href="functions.html#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">f</span>(x) <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb20-9"><a href="functions.html#cb20-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-10"><a href="functions.html#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="functions.html#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="dv">10</span>)</span>
<span id="cb20-12"><a href="functions.html#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 202</span></span></code></pre></div>
</div>
<div id="exercises-6.5.4" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Exercises 6.5.4</h2>
<p><strong>Q1.</strong> What important property of <code>&amp;&amp;</code> makes <code>x_ok()</code> work?</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="functions.html#cb21-1" aria-hidden="true" tabindex="-1"></a>x_ok <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb21-2"><a href="functions.html#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span><span class="fu">is.null</span>(x) <span class="sc">&amp;&amp;</span> <span class="fu">length</span>(x) <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;&amp;</span> x <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb21-3"><a href="functions.html#cb21-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-4"><a href="functions.html#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="functions.html#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">x_ok</span>(<span class="cn">NULL</span>)</span>
<span id="cb21-6"><a href="functions.html#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">x_ok</span>(<span class="dv">1</span>)</span>
<span id="cb21-7"><a href="functions.html#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="fu">x_ok</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span></code></pre></div>
<p>What is different with this code? Why is this behaviour undesirable here?</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="functions.html#cb22-1" aria-hidden="true" tabindex="-1"></a>x_ok <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb22-2"><a href="functions.html#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span><span class="fu">is.null</span>(x) <span class="sc">&amp;</span> <span class="fu">length</span>(x) <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> x <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb22-3"><a href="functions.html#cb22-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-4"><a href="functions.html#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="functions.html#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">x_ok</span>(<span class="cn">NULL</span>)</span>
<span id="cb22-6"><a href="functions.html#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="fu">x_ok</span>(<span class="dv">1</span>)</span>
<span id="cb22-7"><a href="functions.html#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">x_ok</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span></code></pre></div>
<p><strong>A1.</strong> <code>&amp;&amp;</code> evaluates left to right and short-circuit evaluation, i.e., if the first operand is <code>TRUE</code>, R will short-circuit and not even look at the second operand.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="functions.html#cb23-1" aria-hidden="true" tabindex="-1"></a>x_ok <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb23-2"><a href="functions.html#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span><span class="fu">is.null</span>(x) <span class="sc">&amp;&amp;</span> <span class="fu">length</span>(x) <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;&amp;</span> x <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb23-3"><a href="functions.html#cb23-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb23-4"><a href="functions.html#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="functions.html#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="fu">x_ok</span>(<span class="cn">NULL</span>)</span>
<span id="cb23-6"><a href="functions.html#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb23-7"><a href="functions.html#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="functions.html#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="fu">x_ok</span>(<span class="dv">1</span>)</span>
<span id="cb23-9"><a href="functions.html#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb23-10"><a href="functions.html#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="functions.html#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="fu">x_ok</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb23-12"><a href="functions.html#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>Replacing <code>&amp;&amp;</code> is <code>&amp;</code> is undesirable because it performs element-wise logical comparisons and returns a vector of values that is not always useful for decision (<code>TRUE</code>, <code>FALSE</code>, or <code>NA</code>).</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="functions.html#cb24-1" aria-hidden="true" tabindex="-1"></a>x_ok <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb24-2"><a href="functions.html#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span><span class="fu">is.null</span>(x) <span class="sc">&amp;</span> <span class="fu">length</span>(x) <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> x <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb24-3"><a href="functions.html#cb24-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-4"><a href="functions.html#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="functions.html#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">x_ok</span>(<span class="cn">NULL</span>)</span>
<span id="cb24-6"><a href="functions.html#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; logical(0)</span></span>
<span id="cb24-7"><a href="functions.html#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="functions.html#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="fu">x_ok</span>(<span class="dv">1</span>)</span>
<span id="cb24-9"><a href="functions.html#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb24-10"><a href="functions.html#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="functions.html#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="fu">x_ok</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb24-12"><a href="functions.html#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE FALSE FALSE</span></span></code></pre></div>
<p><strong>Q2.</strong> What does this function return? Why? Which principle does it illustrate?</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="functions.html#cb25-1" aria-hidden="true" tabindex="-1"></a>f2 <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">x =</span> z) {</span>
<span id="cb25-2"><a href="functions.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb25-3"><a href="functions.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  x</span>
<span id="cb25-4"><a href="functions.html#cb25-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb25-5"><a href="functions.html#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="fu">f2</span>()</span></code></pre></div>
<p><strong>A2.</strong> The function returns <code>100</code>, and the principle at work here is lazy evaluation. When function environment encounters <code>x</code>, it evaluates argument <code>x = z</code> and since the name <code>z</code> is already bound to value 100, <code>x</code> is also bound to the same value.</p>
<p>We can check this by looking at the memory addresses:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="functions.html#cb26-1" aria-hidden="true" tabindex="-1"></a>f2 <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">x =</span> z) {</span>
<span id="cb26-2"><a href="functions.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb26-3"><a href="functions.html#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(x)</span>
<span id="cb26-4"><a href="functions.html#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="functions.html#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(lobstr<span class="sc">::</span><span class="fu">obj_addrs</span>(<span class="fu">list</span>(x, z)))</span>
<span id="cb26-6"><a href="functions.html#cb26-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb26-7"><a href="functions.html#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="functions.html#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="fu">f2</span>()</span>
<span id="cb26-9"><a href="functions.html#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 100</span></span>
<span id="cb26-10"><a href="functions.html#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;0x142bb0320&quot; &quot;0x142bb0320&quot;</span></span></code></pre></div>
<p><strong>Q3.</strong> What does this function return? Why? Which principle does it illustrate?</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="functions.html#cb27-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb27-2"><a href="functions.html#cb27-2" aria-hidden="true" tabindex="-1"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">x =</span></span>
<span id="cb27-3"><a href="functions.html#cb27-3" aria-hidden="true" tabindex="-1"></a>                 {</span>
<span id="cb27-4"><a href="functions.html#cb27-4" aria-hidden="true" tabindex="-1"></a>                   y <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb27-5"><a href="functions.html#cb27-5" aria-hidden="true" tabindex="-1"></a>                   <span class="dv">2</span></span>
<span id="cb27-6"><a href="functions.html#cb27-6" aria-hidden="true" tabindex="-1"></a>                 },</span>
<span id="cb27-7"><a href="functions.html#cb27-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="dv">0</span>) {</span>
<span id="cb27-8"><a href="functions.html#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(x, y)</span>
<span id="cb27-9"><a href="functions.html#cb27-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb27-10"><a href="functions.html#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="fu">f1</span>()</span>
<span id="cb27-11"><a href="functions.html#cb27-11" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<p><strong>A3.</strong> Note that in the function call <code>f1()</code>, the <code>x</code> and <code>y</code> arguments are missing. That means, the default arguments are evaluated in the function environment, and not in the environment in which the function is defined.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="functions.html#cb28-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb28-2"><a href="functions.html#cb28-2" aria-hidden="true" tabindex="-1"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">x =</span></span>
<span id="cb28-3"><a href="functions.html#cb28-3" aria-hidden="true" tabindex="-1"></a>                 {</span>
<span id="cb28-4"><a href="functions.html#cb28-4" aria-hidden="true" tabindex="-1"></a>                   y <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb28-5"><a href="functions.html#cb28-5" aria-hidden="true" tabindex="-1"></a>                   <span class="dv">2</span></span>
<span id="cb28-6"><a href="functions.html#cb28-6" aria-hidden="true" tabindex="-1"></a>                 },</span>
<span id="cb28-7"><a href="functions.html#cb28-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">y =</span> <span class="dv">0</span>) {</span>
<span id="cb28-8"><a href="functions.html#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">missing</span>(x))</span>
<span id="cb28-9"><a href="functions.html#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">missing</span>(y))</span>
<span id="cb28-10"><a href="functions.html#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="functions.html#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(x, y)</span>
<span id="cb28-12"><a href="functions.html#cb28-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb28-13"><a href="functions.html#cb28-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-14"><a href="functions.html#cb28-14" aria-hidden="true" tabindex="-1"></a><span class="fu">f1</span>()</span>
<span id="cb28-15"><a href="functions.html#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb28-16"><a href="functions.html#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb28-17"><a href="functions.html#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2 1</span></span>
<span id="cb28-18"><a href="functions.html#cb28-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-19"><a href="functions.html#cb28-19" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb28-20"><a href="functions.html#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10</span></span></code></pre></div>
<p>This is why <code>x</code> and <code>y</code> in function environment are assigned the values we see returned, and the <code>y</code> in the global environment remains unchanged.</p>
<p><strong>Q4.</strong> In <code>hist()</code>, the default value of <code>xlim</code> is <code>range(breaks)</code>, the default value for <code>breaks</code> is <code>"Sturges"</code>, and</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="functions.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(<span class="st">&quot;Sturges&quot;</span>)</span>
<span id="cb29-2"><a href="functions.html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Sturges&quot; &quot;Sturges&quot;</span></span></code></pre></div>
<p>Explain how <code>hist()</code> works to get a correct <code>xlim</code> value.</p>
<p><strong>A4.</strong> The <code>xlim</code> defines the range of axes breaks for the histogram.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="functions.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(mtcars<span class="sc">$</span>wt, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">6</span>))</span></code></pre></div>
<p><img src="Functions_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p>The default <code>c("Sturges", "Sturges")</code> uses Sturges’ algorithm to compute the number of breaks, and thus, the range for axes breaks.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="functions.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nclass.Sturges</span>(mtcars<span class="sc">$</span>wt)</span>
<span id="cb31-2"><a href="functions.html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 6</span></span></code></pre></div>
<p>To see the implementation, run <code>sloop::s3_get_method("hist.default")</code>.</p>
<p><strong>Q5.</strong> Explain why this function works. Why is it confusing?</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="functions.html#cb32-1" aria-hidden="true" tabindex="-1"></a>show_time <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">x =</span> <span class="fu">stop</span>(<span class="st">&quot;Error!&quot;</span>)) {</span>
<span id="cb32-2"><a href="functions.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  stop <span class="ot">&lt;-</span> <span class="cf">function</span>(...) <span class="fu">Sys.time</span>()</span>
<span id="cb32-3"><a href="functions.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(x)</span>
<span id="cb32-4"><a href="functions.html#cb32-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-5"><a href="functions.html#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="functions.html#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="fu">show_time</span>()</span>
<span id="cb32-7"><a href="functions.html#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;2022-05-30 18:10:32 CEST&quot;</span></span></code></pre></div>
<p><strong>A5.</strong> Let’s take this step-by-step.</p>
<p>The function argument <code>x</code> is missing in the function call. This means that <code>stop("Error!")</code> is evaluated in the function environment, and not global environment.</p>
<p>But <code>stop("Error!")</code> evaluated only when <code>x</code> is evaluated, and due to lazy evaluation, this happens only when <code>print(x)</code> is called.</p>
<p><code>print(x)</code> leads to <code>x</code> being evaluated, which evaluates <code>stop</code> in the function environment. But in function environment, the <code>base::stop()</code> is masked by a locally defined <code>stop</code> function, which returns <code>Sys.time()</code> output.</p>
<p><strong>Q6.</strong> How many arguments are required when calling <code>library()</code>?</p>
<p><strong>A6.</strong> Going solely by its signature,</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="functions.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">formals</span>(library)</span>
<span id="cb33-2"><a href="functions.html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $package</span></span>
<span id="cb33-3"><a href="functions.html#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-4"><a href="functions.html#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-5"><a href="functions.html#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $help</span></span>
<span id="cb33-6"><a href="functions.html#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-7"><a href="functions.html#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-8"><a href="functions.html#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $pos</span></span>
<span id="cb33-9"><a href="functions.html#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb33-10"><a href="functions.html#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-11"><a href="functions.html#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $lib.loc</span></span>
<span id="cb33-12"><a href="functions.html#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; NULL</span></span>
<span id="cb33-13"><a href="functions.html#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-14"><a href="functions.html#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $character.only</span></span>
<span id="cb33-15"><a href="functions.html#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb33-16"><a href="functions.html#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-17"><a href="functions.html#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $logical.return</span></span>
<span id="cb33-18"><a href="functions.html#cb33-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb33-19"><a href="functions.html#cb33-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-20"><a href="functions.html#cb33-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $warn.conflicts</span></span>
<span id="cb33-21"><a href="functions.html#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-22"><a href="functions.html#cb33-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-23"><a href="functions.html#cb33-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $quietly</span></span>
<span id="cb33-24"><a href="functions.html#cb33-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb33-25"><a href="functions.html#cb33-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-26"><a href="functions.html#cb33-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $verbose</span></span>
<span id="cb33-27"><a href="functions.html#cb33-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; getOption(&quot;verbose&quot;)</span></span>
<span id="cb33-28"><a href="functions.html#cb33-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-29"><a href="functions.html#cb33-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $mask.ok</span></span>
<span id="cb33-30"><a href="functions.html#cb33-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-31"><a href="functions.html#cb33-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-32"><a href="functions.html#cb33-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $exclude</span></span>
<span id="cb33-33"><a href="functions.html#cb33-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-34"><a href="functions.html#cb33-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-35"><a href="functions.html#cb33-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $include.only</span></span>
<span id="cb33-36"><a href="functions.html#cb33-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-37"><a href="functions.html#cb33-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-38"><a href="functions.html#cb33-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $attach.required</span></span>
<span id="cb33-39"><a href="functions.html#cb33-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; missing(include.only)</span></span></code></pre></div>
<p>it looks like the following arguments are required:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="functions.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">formals</span>(library) <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="functions.html#cb34-2" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">discard</span>(is.null) <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="functions.html#cb34-3" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map_lgl</span>(<span class="sc">~</span> .x <span class="sc">==</span> <span class="st">&quot;&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="functions.html#cb34-4" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">keep</span>(<span class="sc">~</span> <span class="fu">isTRUE</span>(.x)) <span class="sc">%&gt;%</span></span>
<span id="cb34-5"><a href="functions.html#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>()</span>
<span id="cb34-6"><a href="functions.html#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;package&quot;        &quot;help&quot;           &quot;warn.conflicts&quot;</span></span>
<span id="cb34-7"><a href="functions.html#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4] &quot;mask.ok&quot;        &quot;exclude&quot;        &quot;include.only&quot;</span></span></code></pre></div>
<p>But, in reality, only one argument is required: <code>package</code>. The function internally checks if the other arguments are missing and internally chooses necessary defaults.</p>
<p>It would have been better if there arguments were <code>NULL</code> instead of missing; that would avoid this confusion.</p>
</div>
<div id="exercises-6.6.1" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Exercises 6.6.1</h2>
<p><strong>Q1.</strong> Explain the following results:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="functions.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb35-2"><a href="functions.html#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 6</span></span>
<span id="cb35-3"><a href="functions.html#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb35-4"><a href="functions.html#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb35-5"><a href="functions.html#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="functions.html#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="at">na.omit =</span> <span class="cn">TRUE</span>)</span>
<span id="cb35-7"><a href="functions.html#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 7</span></span>
<span id="cb35-8"><a href="functions.html#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="at">na.omit =</span> <span class="cn">TRUE</span>)</span>
<span id="cb35-9"><a href="functions.html#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span></code></pre></div>
<p><strong>A1.</strong> Let’s look at arguments for these functions:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="functions.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sum)</span>
<span id="cb36-2"><a href="functions.html#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (..., na.rm = FALSE)</span></span>
<span id="cb36-3"><a href="functions.html#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mean)</span>
<span id="cb36-4"><a href="functions.html#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (x, ...)</span></span></code></pre></div>
<p>As can be seen, <code>sum()</code> function doesn’t have <code>na.omit</code> argument. So, the input <code>na.omit = TRUE</code> is treated as <code>1</code> (logical implicitly coerced to numeric), and thus the results. So, the expression evaluates to <code>sum(1, 2, 3, 1)</code>.</p>
<p>For <code>mean()</code> function, there is only one parameter (<code>x</code>) and it’s matched by the first argument (<code>1</code>). So, the expression evaluates to <code>mean(1)</code>.</p>
<p><strong>Q2.</strong> Explain how to find the documentation for the named arguments in the following function call:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="functions.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">xlab =</span> <span class="st">&quot;x&quot;</span>, <span class="at">col.lab =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="Functions_files/figure-html/unnamed-chunk-38-1.png" width="288" /></p>
<p><strong>A2.</strong> First, check documentation for <code>plot()</code>:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="functions.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(plot)</span>
<span id="cb38-2"><a href="functions.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (x, y, ...)</span></span></code></pre></div>
<p>Since <code>...</code> are passed to <code>par()</code>, we can look at its documentation:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="functions.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(par)</span>
<span id="cb39-2"><a href="functions.html#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (..., no.readonly = FALSE)</span></span></code></pre></div>
<p>The docs for all parameters of interest <a href="https://rdrr.io/r/graphics/par.html">reside there</a>.</p>
<p><strong>Q3.</strong> Why does <code>plot(1:10, col = "red")</code> only colour the points, not the axes or labels? Read the source code of <code>plot.default()</code> to find out.</p>
<p><strong>A3.</strong> Source code can be found <a href="https://github.com/wch/r-source/blob/79e73dba5259b25ec30118d45fea64aeac0f41dc/src/library/graphics/R/plot.R#L51-L84">here</a>.</p>
<p><code>plot.default()</code> passes <code>...</code> to <code>localTitle()</code>, which passes it to <code>title()</code>.</p>
<p><code>title()</code> has four parts: <code>main</code>, <code>sub</code>, <code>xlab</code>, <code>ylab</code>.</p>
<p>So having a single argument <code>col</code> would not work as it will be ambiguous as to which element to apply this argument to.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="functions.html#cb40-1" aria-hidden="true" tabindex="-1"></a>localTitle <span class="ot">&lt;-</span> <span class="cf">function</span>(..., col, bg, pch, cex, lty, lwd) <span class="fu">title</span>(...)</span>
<span id="cb40-2"><a href="functions.html#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="functions.html#cb40-3" aria-hidden="true" tabindex="-1"></a>title <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">main =</span> <span class="cn">NULL</span>, <span class="at">sub =</span> <span class="cn">NULL</span>, <span class="at">xlab =</span> <span class="cn">NULL</span>, <span class="at">ylab =</span> <span class="cn">NULL</span>,</span>
<span id="cb40-4"><a href="functions.html#cb40-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">line =</span> <span class="cn">NA</span>, <span class="at">outer =</span> <span class="cn">FALSE</span>, ...) {</span>
<span id="cb40-5"><a href="functions.html#cb40-5" aria-hidden="true" tabindex="-1"></a>  main <span class="ot">&lt;-</span> <span class="fu">as.graphicsAnnot</span>(main)</span>
<span id="cb40-6"><a href="functions.html#cb40-6" aria-hidden="true" tabindex="-1"></a>  sub <span class="ot">&lt;-</span> <span class="fu">as.graphicsAnnot</span>(sub)</span>
<span id="cb40-7"><a href="functions.html#cb40-7" aria-hidden="true" tabindex="-1"></a>  xlab <span class="ot">&lt;-</span> <span class="fu">as.graphicsAnnot</span>(xlab)</span>
<span id="cb40-8"><a href="functions.html#cb40-8" aria-hidden="true" tabindex="-1"></a>  ylab <span class="ot">&lt;-</span> <span class="fu">as.graphicsAnnot</span>(ylab)</span>
<span id="cb40-9"><a href="functions.html#cb40-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.External.graphics</span>(C_title, main, sub, xlab, ylab, line, outer, ...)</span>
<span id="cb40-10"><a href="functions.html#cb40-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">invisible</span>()</span>
<span id="cb40-11"><a href="functions.html#cb40-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="exercises-6.7.5" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> Exercises 6.7.5</h2>
<p><strong>Q1.</strong> What does <code>load()</code> return? Why don’t you normally see these values?</p>
<p><strong>A1.</strong> The <code>load()</code> function reloads datasets that were saved using the <code>save()</code> function:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="functions.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(iris, <span class="at">file =</span> <span class="st">&quot;my_iris.rda&quot;</span>)</span>
<span id="cb41-2"><a href="functions.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;my_iris.rda&quot;</span>)</span></code></pre></div>
<p>We normally don’t see any value because the function loads the datasets invisibly.</p>
<p>We can change this by setting <code>verbose = TRUE</code>:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="functions.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;my_iris.rda&quot;</span>, <span class="at">verbose =</span> <span class="cn">TRUE</span>)</span>
<span id="cb42-2"><a href="functions.html#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Loading objects:</span></span>
<span id="cb42-3"><a href="functions.html#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   iris</span></span>
<span id="cb42-4"><a href="functions.html#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-5"><a href="functions.html#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co"># cleanup</span></span>
<span id="cb42-6"><a href="functions.html#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="fu">unlink</span>(<span class="st">&quot;my_iris.rda&quot;</span>)</span></code></pre></div>
<p><strong>Q2.</strong> What does <code>write.table()</code> return? What would be more useful?</p>
<p><strong>A2.</strong> The <code>write.table()</code> writes a data frame to a file and returns a <code>NULL</code> invisibly.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="functions.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(BOD, <span class="at">file =</span> <span class="st">&quot;BOD.csv&quot;</span>)</span></code></pre></div>
<p>It would have been more helpful if the function invisibly returned the actual object being written to the file, which could then be further used.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="functions.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># cleanup</span></span>
<span id="cb44-2"><a href="functions.html#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unlink</span>(<span class="st">&quot;BOD.csv&quot;</span>)</span></code></pre></div>
<p><strong>Q3.</strong> How does the <code>chdir</code> parameter of <code>source()</code> compare to <code>with_dir()</code>? Why might you prefer one to the other?</p>
<p><strong>A3.</strong> The <code>chdir</code> parameter of <code>source()</code> is described as:</p>
<blockquote>
<p>if <code>TRUE</code> and <code>file</code> is a pathname, the <code>R</code> working directory is temporarily changed to the directory containing file for evaluating</p>
</blockquote>
<p>That is, <code>chdir</code> allows changing working directory temporarily but <em>only</em> to the directory containing file being sourced:</p>
<p>While <code>withr::with_dir()</code> temporarily changes the current working directory:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="functions.html#cb45-1" aria-hidden="true" tabindex="-1"></a>withr<span class="sc">::</span>with_dir</span>
<span id="cb45-2"><a href="functions.html#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (new, code) </span></span>
<span id="cb45-3"><a href="functions.html#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; {</span></span>
<span id="cb45-4"><a href="functions.html#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     old &lt;- setwd(dir = new)</span></span>
<span id="cb45-5"><a href="functions.html#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     on.exit(setwd(old))</span></span>
<span id="cb45-6"><a href="functions.html#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     force(code)</span></span>
<span id="cb45-7"><a href="functions.html#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; }</span></span>
<span id="cb45-8"><a href="functions.html#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;bytecode: 0x12391d798&gt;</span></span>
<span id="cb45-9"><a href="functions.html#cb45-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;environment: namespace:withr&gt;</span></span></code></pre></div>
<p>More importantly, its parameters <code>dir</code> allows temporarily changing working directory to <em>any</em> directory.</p>
<p><strong>Q4.</strong> Write a function that opens a graphics device, runs the supplied code, and closes the graphics device (always, regardless of whether or not the plotting code works).</p>
<p><strong>A4.</strong> Here is a function that opens a graphics device, runs the supplied code, and closes the graphics device:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="functions.html#cb46-1" aria-hidden="true" tabindex="-1"></a>with_png_device <span class="ot">&lt;-</span> <span class="cf">function</span>(filename, code, ...) {</span>
<span id="cb46-2"><a href="functions.html#cb46-2" aria-hidden="true" tabindex="-1"></a>  grDevices<span class="sc">::</span><span class="fu">png</span>(<span class="at">filename =</span> filename, ...)</span>
<span id="cb46-3"><a href="functions.html#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">on.exit</span>(grDevices<span class="sc">::</span><span class="fu">dev.off</span>(), <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb46-4"><a href="functions.html#cb46-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-5"><a href="functions.html#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">force</span>(code)</span>
<span id="cb46-6"><a href="functions.html#cb46-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong>Q5.</strong> We can use <code>on.exit()</code> to implement a simple version of <code>capture.output()</code>.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="functions.html#cb47-1" aria-hidden="true" tabindex="-1"></a>capture.output2 <span class="ot">&lt;-</span> <span class="cf">function</span>(code) {</span>
<span id="cb47-2"><a href="functions.html#cb47-2" aria-hidden="true" tabindex="-1"></a>  temp <span class="ot">&lt;-</span> <span class="fu">tempfile</span>()</span>
<span id="cb47-3"><a href="functions.html#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">on.exit</span>(<span class="fu">file.remove</span>(temp), <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">after =</span> <span class="cn">TRUE</span>)</span>
<span id="cb47-4"><a href="functions.html#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sink</span>(temp)</span>
<span id="cb47-5"><a href="functions.html#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">on.exit</span>(<span class="fu">sink</span>(), <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">after =</span> <span class="cn">TRUE</span>)</span>
<span id="cb47-6"><a href="functions.html#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">force</span>(code)</span>
<span id="cb47-7"><a href="functions.html#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">readLines</span>(temp)</span>
<span id="cb47-8"><a href="functions.html#cb47-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb47-9"><a href="functions.html#cb47-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-10"><a href="functions.html#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="fu">capture.output2</span>(<span class="fu">cat</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>))</span>
<span id="cb47-11"><a href="functions.html#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</span></span></code></pre></div>
<p>Compare <code>capture.output()</code> to <code>capture.output2()</code>. How do the functions differ? What features have I removed to make the key ideas easier to see? How have I rewritten the key ideas so they’re easier to understand?</p>
<p><strong>A5.</strong> The <code>capture.output()</code> is significantly more complex, as can be seen by its definition:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="functions.html#cb48-1" aria-hidden="true" tabindex="-1"></a>capture.output</span>
<span id="cb48-2"><a href="functions.html#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (..., file = NULL, append = FALSE, type = c(&quot;output&quot;, </span></span>
<span id="cb48-3"><a href="functions.html#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     &quot;message&quot;), split = FALSE) </span></span>
<span id="cb48-4"><a href="functions.html#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; {</span></span>
<span id="cb48-5"><a href="functions.html#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     type &lt;- match.arg(type)</span></span>
<span id="cb48-6"><a href="functions.html#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     rval &lt;- NULL</span></span>
<span id="cb48-7"><a href="functions.html#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     closeit &lt;- TRUE</span></span>
<span id="cb48-8"><a href="functions.html#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     if (is.null(file)) </span></span>
<span id="cb48-9"><a href="functions.html#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         file &lt;- textConnection(&quot;rval&quot;, &quot;w&quot;, local = TRUE)</span></span>
<span id="cb48-10"><a href="functions.html#cb48-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     else if (is.character(file)) </span></span>
<span id="cb48-11"><a href="functions.html#cb48-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         file &lt;- file(file, if (append) </span></span>
<span id="cb48-12"><a href="functions.html#cb48-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             &quot;a&quot;</span></span>
<span id="cb48-13"><a href="functions.html#cb48-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         else &quot;w&quot;)</span></span>
<span id="cb48-14"><a href="functions.html#cb48-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     else if (inherits(file, &quot;connection&quot;)) {</span></span>
<span id="cb48-15"><a href="functions.html#cb48-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         if (!isOpen(file)) </span></span>
<span id="cb48-16"><a href="functions.html#cb48-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             open(file, if (append) </span></span>
<span id="cb48-17"><a href="functions.html#cb48-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                 &quot;a&quot;</span></span>
<span id="cb48-18"><a href="functions.html#cb48-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             else &quot;w&quot;)</span></span>
<span id="cb48-19"><a href="functions.html#cb48-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         else closeit &lt;- FALSE</span></span>
<span id="cb48-20"><a href="functions.html#cb48-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     }</span></span>
<span id="cb48-21"><a href="functions.html#cb48-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     else stop(&quot;&#39;file&#39; must be NULL, a character string or a connection&quot;)</span></span>
<span id="cb48-22"><a href="functions.html#cb48-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     sink(file, type = type, split = split)</span></span>
<span id="cb48-23"><a href="functions.html#cb48-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     on.exit({</span></span>
<span id="cb48-24"><a href="functions.html#cb48-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         sink(type = type, split = split)</span></span>
<span id="cb48-25"><a href="functions.html#cb48-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         if (closeit) close(file)</span></span>
<span id="cb48-26"><a href="functions.html#cb48-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     })</span></span>
<span id="cb48-27"><a href="functions.html#cb48-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     for (i in seq_len(...length())) {</span></span>
<span id="cb48-28"><a href="functions.html#cb48-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         out &lt;- withVisible(...elt(i))</span></span>
<span id="cb48-29"><a href="functions.html#cb48-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         if (out$visible) </span></span>
<span id="cb48-30"><a href="functions.html#cb48-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             print(out$value)</span></span>
<span id="cb48-31"><a href="functions.html#cb48-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     }</span></span>
<span id="cb48-32"><a href="functions.html#cb48-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     on.exit()</span></span>
<span id="cb48-33"><a href="functions.html#cb48-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     sink(type = type, split = split)</span></span>
<span id="cb48-34"><a href="functions.html#cb48-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     if (closeit) </span></span>
<span id="cb48-35"><a href="functions.html#cb48-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         close(file)</span></span>
<span id="cb48-36"><a href="functions.html#cb48-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     if (is.null(rval)) </span></span>
<span id="cb48-37"><a href="functions.html#cb48-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         invisible(NULL)</span></span>
<span id="cb48-38"><a href="functions.html#cb48-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     else rval</span></span>
<span id="cb48-39"><a href="functions.html#cb48-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; }</span></span>
<span id="cb48-40"><a href="functions.html#cb48-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;bytecode: 0x1141fae80&gt;</span></span>
<span id="cb48-41"><a href="functions.html#cb48-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;environment: namespace:utils&gt;</span></span></code></pre></div>
<p>Here are few key differences:</p>
<ul>
<li><code>capture.output()</code> uses <code>print()</code> function to print to console:</li>
</ul>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="functions.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">capture.output</span>(<span class="dv">1</span>)</span>
<span id="cb49-2"><a href="functions.html#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;[1] 1&quot;</span></span>
<span id="cb49-3"><a href="functions.html#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="functions.html#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="fu">capture.output2</span>(<span class="dv">1</span>)</span>
<span id="cb49-5"><a href="functions.html#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; character(0)</span></span></code></pre></div>
<ul>
<li><code>capture.output()</code> can capture messages as well:</li>
</ul>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="functions.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">capture.output</span>(<span class="fu">message</span>(<span class="st">&quot;Hi there!&quot;</span>), <span class="st">&quot;a&quot;</span>, <span class="at">type =</span> <span class="st">&quot;message&quot;</span>)</span>
<span id="cb50-2"><a href="functions.html#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Hi there!</span></span>
<span id="cb50-3"><a href="functions.html#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span>
<span id="cb50-4"><a href="functions.html#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; character(0)</span></span></code></pre></div>
<ul>
<li><code>capture.output()</code> takes into account visibility of the expression:</li>
</ul>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="functions.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">capture.output</span>(<span class="dv">1</span>, <span class="fu">invisible</span>(<span class="dv">2</span>), <span class="dv">3</span>)</span>
<span id="cb51-2"><a href="functions.html#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;[1] 1&quot; &quot;[1] 3&quot;</span></span></code></pre></div>
</div>
<div id="exercises-6.8.6" class="section level2" number="6.6">
<h2><span class="header-section-number">6.6</span> Exercises 6.8.6</h2>
<p><strong>Q1.</strong> Rewrite the following code snippets into prefix form:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="functions.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span></span>
<span id="cb52-2"><a href="functions.html#cb52-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-3"><a href="functions.html#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> (<span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span>)</span>
<span id="cb52-4"><a href="functions.html#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5"><a href="functions.html#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(x) <span class="sc">&lt;=</span> <span class="dv">5</span>) x[[<span class="dv">5</span>]] <span class="cf">else</span> x[[n]]</span></code></pre></div>
<p><strong>A1.</strong> Prefix forms for code snippets:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="functions.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The binary `+`  operator has left to right associative property.</span></span>
<span id="cb53-2"><a href="functions.html#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">+</span><span class="st">`</span>(<span class="st">`</span><span class="at">+</span><span class="st">`</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="dv">3</span>)</span>
<span id="cb53-3"><a href="functions.html#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="functions.html#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">+</span><span class="st">`</span>(<span class="dv">1</span>, <span class="st">`</span><span class="at">(</span><span class="st">`</span>(<span class="st">`</span><span class="at">+</span><span class="st">`</span>(<span class="dv">2</span>, <span class="dv">3</span>)))</span>
<span id="cb53-5"><a href="functions.html#cb53-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-6"><a href="functions.html#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">if</span><span class="st">`</span>(<span class="at">cond =</span> <span class="st">`</span><span class="at">&lt;=</span><span class="st">`</span>(<span class="fu">length</span>(x), <span class="dv">5</span>), <span class="at">cons.expr =</span> <span class="st">`</span><span class="at">[[</span><span class="st">`</span>(x, <span class="dv">5</span>), <span class="at">alt.expr =</span> <span class="st">`</span><span class="at">[[</span><span class="st">`</span>(x, n))</span></code></pre></div>
<p><strong>Q2.</strong> Clarify the following list of odd function calls:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="functions.html#cb54-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="dv">20</span>, <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="cn">NA</span>))</span>
<span id="cb54-2"><a href="functions.html#cb54-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">1</span>, <span class="dv">20</span>)</span>
<span id="cb54-3"><a href="functions.html#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(<span class="at">m =</span> <span class="st">&quot;k&quot;</span>, <span class="at">y =</span> y, <span class="at">u =</span> <span class="st">&quot;p&quot;</span>, <span class="at">x =</span> x)</span></code></pre></div>
<p><strong>A2.</strong> These functions don’t have dots (<code>...</code>) as parameters, so the argument matching takes place in the following steps:</p>
<ul>
<li>exact matching for named arguments</li>
<li>partial matching</li>
<li>position-based</li>
</ul>
<p><strong>Q3.</strong> Explain why the following code fails:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="functions.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modify</span>(<span class="fu">get</span>(<span class="st">&quot;x&quot;</span>), <span class="dv">1</span>) <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb55-2"><a href="functions.html#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error: target of assignment expands to non-language object</span></span></code></pre></div>
<p><strong>A3.</strong> As provided in the book, the replacement function is defined as:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="functions.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">modify&lt;-</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(x, position, value) {</span>
<span id="cb56-2"><a href="functions.html#cb56-2" aria-hidden="true" tabindex="-1"></a>  x[position] <span class="ot">&lt;-</span> value</span>
<span id="cb56-3"><a href="functions.html#cb56-3" aria-hidden="true" tabindex="-1"></a>  x</span>
<span id="cb56-4"><a href="functions.html#cb56-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Let’s re-write the provided code in prefix format to understand why it doesn’t work:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="functions.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get</span>(<span class="st">&quot;x&quot;</span>) <span class="ot">&lt;-</span> <span class="st">`</span><span class="at">modify&lt;-</span><span class="st">`</span>(<span class="at">x =</span> <span class="fu">get</span>(<span class="st">&quot;x&quot;</span>), <span class="at">position =</span> <span class="dv">1</span>, <span class="at">value =</span> <span class="dv">10</span>)</span></code></pre></div>
<p>Although this works:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="functions.html#cb58-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb58-2"><a href="functions.html#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">modify&lt;-</span><span class="st">`</span>(<span class="at">x =</span> <span class="fu">get</span>(<span class="st">&quot;x&quot;</span>), <span class="at">position =</span> <span class="dv">1</span>, <span class="at">value =</span> <span class="dv">10</span>)</span>
<span id="cb58-3"><a href="functions.html#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 10</span></span></code></pre></div>
<p>The following doesn’t because the code above evaluates to:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="functions.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">get&lt;-</span><span class="st">`</span>(<span class="st">&quot;x&quot;</span>, <span class="dv">10</span>)</span>
<span id="cb59-2"><a href="functions.html#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Error in `get&lt;-`(&quot;x&quot;, 10): could not find function &quot;get&lt;-&quot;</span></span></code></pre></div>
<p>And there is no <code>get&lt;-</code> function in R.</p>
<p><strong>Q4.</strong> Create a replacement function that modifies a random location in a vector.</p>
<p><strong>A4.</strong> A replacement function that modifies a random location in a vector:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="functions.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">random_modify&lt;-</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(x, value) {</span>
<span id="cb60-2"><a href="functions.html#cb60-2" aria-hidden="true" tabindex="-1"></a>  random_index <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">seq_along</span>(x), <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb60-3"><a href="functions.html#cb60-3" aria-hidden="true" tabindex="-1"></a>  x[random_index] <span class="ot">&lt;-</span> value</span>
<span id="cb60-4"><a href="functions.html#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(x)</span>
<span id="cb60-5"><a href="functions.html#cb60-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Let’s try it out:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="functions.html#cb61-1" aria-hidden="true" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">&quot;a&quot;</span>, <span class="dv">10</span>)</span>
<span id="cb61-2"><a href="functions.html#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">random_modify</span>(x1) <span class="ot">&lt;-</span> <span class="st">&quot;X&quot;</span></span>
<span id="cb61-3"><a href="functions.html#cb61-3" aria-hidden="true" tabindex="-1"></a>x1</span>
<span id="cb61-4"><a href="functions.html#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;a&quot; &quot;a&quot; &quot;a&quot; &quot;a&quot; &quot;X&quot; &quot;a&quot; &quot;a&quot; &quot;a&quot; &quot;a&quot; &quot;a&quot;</span></span>
<span id="cb61-5"><a href="functions.html#cb61-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-6"><a href="functions.html#cb61-6" aria-hidden="true" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">&quot;a&quot;</span>, <span class="dv">10</span>)</span>
<span id="cb61-7"><a href="functions.html#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="fu">random_modify</span>(x2) <span class="ot">&lt;-</span> <span class="st">&quot;Y&quot;</span></span>
<span id="cb61-8"><a href="functions.html#cb61-8" aria-hidden="true" tabindex="-1"></a>x2</span>
<span id="cb61-9"><a href="functions.html#cb61-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;a&quot; &quot;a&quot; &quot;a&quot; &quot;a&quot; &quot;a&quot; &quot;Y&quot; &quot;a&quot; &quot;a&quot; &quot;a&quot; &quot;a&quot;</span></span>
<span id="cb61-10"><a href="functions.html#cb61-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-11"><a href="functions.html#cb61-11" aria-hidden="true" tabindex="-1"></a>x3 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">15</span>)</span>
<span id="cb61-12"><a href="functions.html#cb61-12" aria-hidden="true" tabindex="-1"></a><span class="fu">random_modify</span>(x3) <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">4</span></span>
<span id="cb61-13"><a href="functions.html#cb61-13" aria-hidden="true" tabindex="-1"></a>x3</span>
<span id="cb61-14"><a href="functions.html#cb61-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  0  0  0  0 -4  0  0  0  0  0  0  0  0  0  0</span></span>
<span id="cb61-15"><a href="functions.html#cb61-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-16"><a href="functions.html#cb61-16" aria-hidden="true" tabindex="-1"></a>x4 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">15</span>)</span>
<span id="cb61-17"><a href="functions.html#cb61-17" aria-hidden="true" tabindex="-1"></a><span class="fu">random_modify</span>(x4) <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb61-18"><a href="functions.html#cb61-18" aria-hidden="true" tabindex="-1"></a>x4</span>
<span id="cb61-19"><a href="functions.html#cb61-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  0  0  0  0  0  0  0  0  0  0  0  0 -1  0  0</span></span></code></pre></div>
<p><strong>Q5.</strong> Write your own version of <code>+</code> that pastes its inputs together if they are character vectors but behaves as usual otherwise. In other words, make this code work:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="functions.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span></span>
<span id="cb62-2"><a href="functions.html#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3</span></span>
<span id="cb62-3"><a href="functions.html#cb62-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-4"><a href="functions.html#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;a&quot;</span> <span class="sc">+</span> <span class="st">&quot;b&quot;</span></span>
<span id="cb62-5"><a href="functions.html#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;ab&quot;</span></span></code></pre></div>
<p><strong>A5.</strong> Infix operator to re-create the desired output:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="functions.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">+</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb63-2"><a href="functions.html#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.character</span>(x) <span class="sc">||</span> <span class="fu">is.character</span>(y)) {</span>
<span id="cb63-3"><a href="functions.html#cb63-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(x, y)</span>
<span id="cb63-4"><a href="functions.html#cb63-4" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb63-5"><a href="functions.html#cb63-5" aria-hidden="true" tabindex="-1"></a>    base<span class="sc">::</span><span class="st">`</span><span class="at">+</span><span class="st">`</span>(x, y)</span>
<span id="cb63-6"><a href="functions.html#cb63-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb63-7"><a href="functions.html#cb63-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb63-8"><a href="functions.html#cb63-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-9"><a href="functions.html#cb63-9" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span></span>
<span id="cb63-10"><a href="functions.html#cb63-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3</span></span>
<span id="cb63-11"><a href="functions.html#cb63-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-12"><a href="functions.html#cb63-12" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;a&quot;</span> <span class="sc">+</span> <span class="st">&quot;b&quot;</span></span>
<span id="cb63-13"><a href="functions.html#cb63-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;ab&quot;</span></span>
<span id="cb63-14"><a href="functions.html#cb63-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-15"><a href="functions.html#cb63-15" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="st">&quot;+&quot;</span>, <span class="at">envir =</span> .GlobalEnv)</span></code></pre></div>
<p><strong>Q6.</strong> Create a list of all the replacement functions found in the base package. Which ones are primitive functions? (Hint: use <code>apropos()</code>.)</p>
<p><strong>A6.</strong> Replacement functions always have <code>&lt;-</code> at the end of their names.</p>
<p>So, using <code>apropos()</code>, we can find all replacement functions in search paths and the filter out the ones that don’t belong to <code>{base}</code> package:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="functions.html#cb64-1" aria-hidden="true" tabindex="-1"></a>ls_replacement <span class="ot">&lt;-</span> <span class="fu">apropos</span>(<span class="st">&quot;&lt;-$&quot;</span>, <span class="at">where =</span> <span class="cn">TRUE</span>, <span class="at">mode =</span> <span class="st">&quot;function&quot;</span>)</span>
<span id="cb64-2"><a href="functions.html#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3"><a href="functions.html#cb64-3" aria-hidden="true" tabindex="-1"></a>base_index <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">grepl</span>(<span class="st">&quot;base&quot;</span>, <span class="fu">searchpaths</span>()))</span>
<span id="cb64-4"><a href="functions.html#cb64-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-5"><a href="functions.html#cb64-5" aria-hidden="true" tabindex="-1"></a>ls_replacement <span class="ot">&lt;-</span> ls_replacement[<span class="fu">which</span>(<span class="fu">names</span>(ls_replacement) <span class="sc">==</span> <span class="fu">as.character</span>(base_index))]</span>
<span id="cb64-6"><a href="functions.html#cb64-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-7"><a href="functions.html#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="fu">unname</span>(ls_replacement)</span>
<span id="cb64-8"><a href="functions.html#cb64-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;.rowNamesDF&lt;-&quot;    &quot;[[&lt;-&quot;            </span></span>
<span id="cb64-9"><a href="functions.html#cb64-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] &quot;[&lt;-&quot;              &quot;@&lt;-&quot;             </span></span>
<span id="cb64-10"><a href="functions.html#cb64-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] &quot;&lt;-&quot;               &quot;&lt;&lt;-&quot;             </span></span>
<span id="cb64-11"><a href="functions.html#cb64-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;$&lt;-&quot;              &quot;attr&lt;-&quot;          </span></span>
<span id="cb64-12"><a href="functions.html#cb64-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] &quot;attributes&lt;-&quot;     &quot;body&lt;-&quot;          </span></span>
<span id="cb64-13"><a href="functions.html#cb64-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] &quot;class&lt;-&quot;          &quot;colnames&lt;-&quot;      </span></span>
<span id="cb64-14"><a href="functions.html#cb64-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] &quot;comment&lt;-&quot;        &quot;diag&lt;-&quot;          </span></span>
<span id="cb64-15"><a href="functions.html#cb64-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15] &quot;dim&lt;-&quot;            &quot;dimnames&lt;-&quot;      </span></span>
<span id="cb64-16"><a href="functions.html#cb64-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [17] &quot;Encoding&lt;-&quot;       &quot;environment&lt;-&quot;   </span></span>
<span id="cb64-17"><a href="functions.html#cb64-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19] &quot;formals&lt;-&quot;        &quot;is.na&lt;-&quot;         </span></span>
<span id="cb64-18"><a href="functions.html#cb64-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [21] &quot;length&lt;-&quot;         &quot;levels&lt;-&quot;        </span></span>
<span id="cb64-19"><a href="functions.html#cb64-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [23] &quot;mode&lt;-&quot;           &quot;mostattributes&lt;-&quot;</span></span>
<span id="cb64-20"><a href="functions.html#cb64-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25] &quot;names&lt;-&quot;          &quot;oldClass&lt;-&quot;      </span></span>
<span id="cb64-21"><a href="functions.html#cb64-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [27] &quot;parent.env&lt;-&quot;     &quot;regmatches&lt;-&quot;    </span></span>
<span id="cb64-22"><a href="functions.html#cb64-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [29] &quot;row.names&lt;-&quot;      &quot;rownames&lt;-&quot;      </span></span>
<span id="cb64-23"><a href="functions.html#cb64-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31] &quot;split&lt;-&quot;          &quot;storage.mode&lt;-&quot;  </span></span>
<span id="cb64-24"><a href="functions.html#cb64-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [33] &quot;substr&lt;-&quot;         &quot;substring&lt;-&quot;     </span></span>
<span id="cb64-25"><a href="functions.html#cb64-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [35] &quot;units&lt;-&quot;</span></span></code></pre></div>
<p>The primitive replacement functions can be listed using <code>is.primitive()</code>:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="functions.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mget</span>(ls_replacement, <span class="at">envir =</span> <span class="fu">baseenv</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb65-2"><a href="functions.html#cb65-2" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">keep</span>(is.primitive) <span class="sc">%&gt;%</span></span>
<span id="cb65-3"><a href="functions.html#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>()</span>
<span id="cb65-4"><a href="functions.html#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;[[&lt;-&quot;           &quot;[&lt;-&quot;            &quot;@&lt;-&quot;           </span></span>
<span id="cb65-5"><a href="functions.html#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] &quot;&lt;-&quot;             &quot;&lt;&lt;-&quot;            &quot;$&lt;-&quot;           </span></span>
<span id="cb65-6"><a href="functions.html#cb65-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;attr&lt;-&quot;         &quot;attributes&lt;-&quot;   &quot;class&lt;-&quot;       </span></span>
<span id="cb65-7"><a href="functions.html#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] &quot;dim&lt;-&quot;          &quot;dimnames&lt;-&quot;     &quot;environment&lt;-&quot; </span></span>
<span id="cb65-8"><a href="functions.html#cb65-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] &quot;length&lt;-&quot;       &quot;levels&lt;-&quot;       &quot;names&lt;-&quot;       </span></span>
<span id="cb65-9"><a href="functions.html#cb65-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16] &quot;oldClass&lt;-&quot;     &quot;storage.mode&lt;-&quot;</span></span></code></pre></div>
<p><strong>Q7.</strong> What are valid names for user-created infix functions?</p>
<p><strong>A7.</strong> As mentioned in the respective <a href="https://adv-r.hadley.nz/functions.html#infix-functions">section</a> of the book:</p>
<blockquote>
<p>The names of infix functions are more flexible than regular R functions: they can contain any sequence of characters except for <code>%</code>.</p>
</blockquote>
<p><strong>Q8.</strong> Create an infix <code>xor()</code> operator.</p>
<p><strong>A8.</strong> Exclusive OR is a logical operation that is <code>TRUE</code> if and only if its arguments differ (one is <code>TRUE</code>, the other is <code>FALSE</code>).</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="functions.html#cb66-1" aria-hidden="true" tabindex="-1"></a>lv1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb66-2"><a href="functions.html#cb66-2" aria-hidden="true" tabindex="-1"></a>lv2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb66-3"><a href="functions.html#cb66-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-4"><a href="functions.html#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="fu">xor</span>(lv1, lv2)</span>
<span id="cb66-5"><a href="functions.html#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE  TRUE  TRUE FALSE</span></span></code></pre></div>
<p>We can create infix operator for exclusive OR like so:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="functions.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">%xor%</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb67-2"><a href="functions.html#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span>((x <span class="sc">&amp;</span> y) <span class="sc">|</span> <span class="sc">!</span>(x <span class="sc">|</span> y))</span>
<span id="cb67-3"><a href="functions.html#cb67-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb67-4"><a href="functions.html#cb67-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-5"><a href="functions.html#cb67-5" aria-hidden="true" tabindex="-1"></a>lv1 <span class="sc">%xor%</span> lv2</span>
<span id="cb67-6"><a href="functions.html#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE  TRUE  TRUE FALSE</span></span>
<span id="cb67-7"><a href="functions.html#cb67-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-8"><a href="functions.html#cb67-8" aria-hidden="true" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">%xor%</span> <span class="cn">TRUE</span></span>
<span id="cb67-9"><a href="functions.html#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>The function is vectorized over its inputs because the underlying logical operators themselves are vectorized.</p>
<p><strong>Q9.</strong> Create infix versions of the set functions <code>intersect()</code>, <code>union()</code>, and <code>setdiff()</code>. You might call them <code>%n%</code>, <code>%u%</code>, and <code>%/%</code> to match conventions from mathematics.</p>
<p><strong>A9.</strong> The required infix operators can be created as following:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="functions.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">%n%</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb68-2"><a href="functions.html#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">intersect</span>(x, y)</span>
<span id="cb68-3"><a href="functions.html#cb68-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb68-4"><a href="functions.html#cb68-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-5"><a href="functions.html#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">%u%</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb68-6"><a href="functions.html#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">union</span>(x, y)</span>
<span id="cb68-7"><a href="functions.html#cb68-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb68-8"><a href="functions.html#cb68-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-9"><a href="functions.html#cb68-9" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">%/%</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb68-10"><a href="functions.html#cb68-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setdiff</span>(x, y)</span>
<span id="cb68-11"><a href="functions.html#cb68-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>We can check that the outputs agree with the underlying functions:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="functions.html#cb69-1" aria-hidden="true" tabindex="-1"></a>(x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">sort</span>(<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="dv">9</span>)), <span class="cn">NA</span>))</span>
<span id="cb69-2"><a href="functions.html#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  4  7  8  9 11 13 15 16 20 NA</span></span>
<span id="cb69-3"><a href="functions.html#cb69-3" aria-hidden="true" tabindex="-1"></a>(y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">sort</span>(<span class="fu">sample</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">23</span>, <span class="dv">7</span>)), <span class="cn">NA</span>))</span>
<span id="cb69-4"><a href="functions.html#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  9 10 13 15 17 19 20 NA</span></span>
<span id="cb69-5"><a href="functions.html#cb69-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-6"><a href="functions.html#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(<span class="fu">intersect</span>(x, y), x <span class="sc">%n%</span> y)</span>
<span id="cb69-7"><a href="functions.html#cb69-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb69-8"><a href="functions.html#cb69-8" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(<span class="fu">union</span>(x, y), x <span class="sc">%u%</span> y)</span>
<span id="cb69-9"><a href="functions.html#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb69-10"><a href="functions.html#cb69-10" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(<span class="fu">setdiff</span>(x, y), x <span class="sc">%/%</span> y)</span>
<span id="cb69-11"><a href="functions.html#cb69-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>

</div>
</div>
  </main>

  <div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page">
      <h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          <li><a id="book-source" href="#">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="#">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
      </div>
    </nav>
  </div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5">
  <div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Advanced R Exercises</strong>" was written by <a class="text-light" href="https://sites.google.com/site/indrajeetspatilmorality/">Indrajeet Patil</a>. It was last built on 2022-05-30.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>


</body>

</html>
